{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/lib/env.ts"],"sourcesContent":["/**\n * Validates required environment variables at startup and exports a typed env object.\n * Uses static process.env.X references so Next.js inlines them in the client bundle.\n */\n\nfunction validateEnv(): {\n  NEXT_PUBLIC_SUPABASE_URL: string\n  NEXT_PUBLIC_SUPABASE_ANON_KEY: string\n  NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY: string\n} {\n  const url = process.env.NEXT_PUBLIC_SUPABASE_URL ?? \"\"\n  const anonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY ?? \"\"\n  const stripeKey = process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY ?? \"\"\n\n  if (url.trim() === \"\") {\n    throw new Error(\n      \"Missing required environment variable: NEXT_PUBLIC_SUPABASE_URL - check your .env.local file\"\n    )\n  }\n  if (anonKey.trim() === \"\") {\n    throw new Error(\n      \"Missing required environment variable: NEXT_PUBLIC_SUPABASE_ANON_KEY - check your .env.local file\"\n    )\n  }\n  if (stripeKey.trim() === \"\") {\n    throw new Error(\n      \"Missing required environment variable: NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY - check your .env.local file\"\n    )\n  }\n\n  if (!url.startsWith(\"https://\") || !url.includes(\".supabase.co\")) {\n    throw new Error(\n      \"NEXT_PUBLIC_SUPABASE_URL must be the Supabase API URL (e.g. https://YOUR_REF.supabase.co). Use Project Settings → API → Project URL in the dashboard, not the Postgres connection string.\"\n    )\n  }\n\n  if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"development\") {\n    // eslint-disable-next-line no-console\n    console.log(\n      \"[Brasena] Env loaded: NEXT_PUBLIC_SUPABASE_URL, NEXT_PUBLIC_SUPABASE_ANON_KEY, NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY\"\n    )\n  }\n\n  return {\n    NEXT_PUBLIC_SUPABASE_URL: url.trim(),\n    NEXT_PUBLIC_SUPABASE_ANON_KEY: anonKey.trim(),\n    NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY: stripeKey.trim(),\n  }\n}\n\nexport const env = validateEnv()\n"],"names":[],"mappings":";;;;AAAA;;;CAGC,GAED,SAAS;IAKP,MAAM,MAAM,gFAAwC;IACpD,MAAM,UAAU,wPAA6C;IAC7D,MAAM,YAAY,2DAAkD;IAEpE,IAAI,IAAI,IAAI,OAAO,IAAI;QACrB,MAAM,IAAI,MACR;IAEJ;IACA,IAAI,QAAQ,IAAI,OAAO,IAAI;QACzB,MAAM,IAAI,MACR;IAEJ;IACA,IAAI,UAAU,IAAI,OAAO,IAAI;QAC3B,MAAM,IAAI,MACR;IAEJ;IAEA,IAAI,CAAC,IAAI,UAAU,CAAC,eAAe,CAAC,IAAI,QAAQ,CAAC,iBAAiB;QAChE,MAAM,IAAI,MACR;IAEJ;IAEA,IAAI,OAAO,YAAY,eAAe,oDAAyB,eAAe;QAC5E,sCAAsC;QACtC,QAAQ,GAAG,CACT;IAEJ;IAEA,OAAO;QACL,0BAA0B,IAAI,IAAI;QAClC,+BAA+B,QAAQ,IAAI;QAC3C,oCAAoC,UAAU,IAAI;IACpD;AACF;AAEO,MAAM,MAAM"}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/config/index.ts"],"sourcesContent":["// ─── Environment Variables ─────────────────────────────\n// All env vars flow through here. Never import process.env directly\n// in components - always use this config object instead.\n// Required vars are validated at boot via @/lib/env.\n\nimport { env } from \"@/lib/env\"\n\nexport const config = {\n  app: {\n    name: \"Brasena\",\n    url: process.env.NEXT_PUBLIC_APP_URL ?? \"http://localhost:3000\",\n    env: process.env.NODE_ENV ?? \"development\",\n  },\n\n  supabase: {\n    url: env.NEXT_PUBLIC_SUPABASE_URL,\n    anonKey: env.NEXT_PUBLIC_SUPABASE_ANON_KEY,\n  },\n\n  stripe: {\n    publishableKey: env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY,\n    // secretKey only on server - never expose to client\n  },\n\n  maps: {\n    mapboxToken: process.env.NEXT_PUBLIC_MAPBOX_TOKEN,\n  },\n\n  delivery: {\n    uberDirectEnabled: process.env.NEXT_PUBLIC_UBER_DIRECT_ENABLED === \"true\",\n    maxWeightForUber: 30, // lbs - orders over 30lb go to private van\n  },\n} as const\n\n// ─── Business Constants ────────────────────────────────\nexport const BUSINESS = {\n  // Bulk pricing thresholds (lbs)\n  WEIGHT_TIERS: [10, 20, 30, 40] as const,\n\n  // Order routing\n  DRIVER_NOTIFY_DELAY_MS: 7 * 60 * 1000, // 5-10 min delay after vendor confirms\n\n  // Operating hours (EST)\n  HOURS: { open: 6, close: 23 }, // 6 AM - 11 PM\n\n  // Geographic\n  INITIAL_BOROUGH: \"Bronx\",\n  SERVICE_ZIPCODES: [\n    \"10451\", \"10452\", \"10453\", \"10454\", \"10455\",\n    \"10456\", \"10457\", \"10458\", \"10459\", \"10460\",\n    \"10461\", \"10462\", \"10463\", \"10464\", \"10465\",\n    \"10466\", \"10467\", \"10468\", \"10469\", \"10470\",\n    \"10471\", \"10472\", \"10473\", \"10474\", \"10475\",\n  ],\n\n  // Product\n  MAX_PHASE_1_PRODUCTS: 25,\n  CATEGORIES: [\"Beef\", \"Pork\", \"Chicken\"] as const,\n} as const\n\n// ─── Route Constants ───────────────────────────────────\nexport const ROUTES = {\n  // Public\n  HOME:     \"/\",\n  LANGUAGE: \"/language\",\n  LOGIN:    \"/login\",\n  SIGNUP:   \"/signup\",\n\n  // Shop (authenticated)\n  SHOP:       \"/home\",\n  CATEGORIES: \"/categories\",\n  PRODUCTS:   (category: string) => `/categories/${category}`,\n  PRODUCT:    (slug: string) => `/products/${slug}`,\n  CART:       \"/cart\",\n  CHECKOUT:   \"/checkout\",\n\n  // Orders\n  ORDERS:      \"/orders\",\n  ORDER:       (id: string) => `/orders/${id}`,\n  ORDER_TRACK: (id: string) => `/orders/${id}/track`,\n\n  // Account\n  ACCOUNT: \"/account\",\n\n  // Vendor (iPad interface)\n  VENDOR_QUEUE:  \"/vendor/queue\",\n  VENDOR_ORDER:  (id: string) => `/vendor/orders/${id}`,\n\n  // Admin\n  ADMIN_DASHBOARD: \"/admin/dashboard\",\n  ADMIN_PRODUCTS:  \"/admin/products\",\n  ADMIN_ORDERS:    \"/admin/orders\",\n} as const\n\n// ─── Profile Types ─────────────────────────────────────\nexport type ProfileType = \"residential\" | \"business\"\nexport type UserRole = \"customer\" | \"vendor\" | \"driver\" | \"csr\" | \"admin\"\n\n// ─── Order Status ──────────────────────────────────────\nexport const ORDER_STATUS = {\n  PENDING:         \"pending\",\n  CONFIRMED:       \"confirmed\",\n  PREPARING:       \"preparing\",\n  OUT_FOR_DELIVERY:\"out_for_delivery\",\n  DELIVERED:       \"delivered\",\n  CANCELLED:       \"cancelled\",\n} as const\n\nexport type OrderStatus = typeof ORDER_STATUS[keyof typeof ORDER_STATUS]\n"],"names":[],"mappings":";;;;;;;;;;AAAA,0DAA0D;AAC1D,oEAAoE;AACpE,yDAAyD;AACzD,qDAAqD;AAErD;;AAEO,MAAM,SAAS;IACpB,KAAK;QACH,MAAM;QACN,KAAK,6DAAmC;QACxC,KAAK,mDAAwB;IAC/B;IAEA,UAAU;QACR,KAAK,0KAAG,CAAC,wBAAwB;QACjC,SAAS,0KAAG,CAAC,6BAA6B;IAC5C;IAEA,QAAQ;QACN,gBAAgB,0KAAG,CAAC,kCAAkC;IAExD;IAEA,MAAM;QACJ,WAAW;IACb;IAEA,UAAU;QACR,mBAAmB,8CAAgD;QACnE,kBAAkB;IACpB;AACF;AAGO,MAAM,WAAW;IACtB,gCAAgC;IAChC,cAAc;QAAC;QAAI;QAAI;QAAI;KAAG;IAE9B,gBAAgB;IAChB,wBAAwB,IAAI,KAAK;IAEjC,wBAAwB;IACxB,OAAO;QAAE,MAAM;QAAG,OAAO;IAAG;IAE5B,aAAa;IACb,iBAAiB;IACjB,kBAAkB;QAChB;QAAS;QAAS;QAAS;QAAS;QACpC;QAAS;QAAS;QAAS;QAAS;QACpC;QAAS;QAAS;QAAS;QAAS;QACpC;QAAS;QAAS;QAAS;QAAS;QACpC;QAAS;QAAS;QAAS;QAAS;KACrC;IAED,UAAU;IACV,sBAAsB;IACtB,YAAY;QAAC;QAAQ;QAAQ;KAAU;AACzC;AAGO,MAAM,SAAS;IACpB,SAAS;IACT,MAAU;IACV,UAAU;IACV,OAAU;IACV,QAAU;IAEV,uBAAuB;IACvB,MAAY;IACZ,YAAY;IACZ,UAAY,CAAC,WAAqB,CAAC,YAAY,EAAE,UAAU;IAC3D,SAAY,CAAC,OAAiB,CAAC,UAAU,EAAE,MAAM;IACjD,MAAY;IACZ,UAAY;IAEZ,SAAS;IACT,QAAa;IACb,OAAa,CAAC,KAAe,CAAC,QAAQ,EAAE,IAAI;IAC5C,aAAa,CAAC,KAAe,CAAC,QAAQ,EAAE,GAAG,MAAM,CAAC;IAElD,UAAU;IACV,SAAS;IAET,0BAA0B;IAC1B,cAAe;IACf,cAAe,CAAC,KAAe,CAAC,eAAe,EAAE,IAAI;IAErD,QAAQ;IACR,iBAAiB;IACjB,gBAAiB;IACjB,cAAiB;AACnB;AAOO,MAAM,eAAe;IAC1B,SAAiB;IACjB,WAAiB;IACjB,WAAiB;IACjB,kBAAiB;IACjB,WAAiB;IACjB,WAAiB;AACnB"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/lib/utils/index.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\nimport { BUSINESS, config } from \"@/config\"\n\n/**\n * Merge Tailwind classes safely.\n * Handles conflicts like \"bg-red-500 bg-blue-500\" → \"bg-blue-500\"\n * This is the standard pattern for any Tailwind + React project.\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\n/**\n * Format a number as USD currency.\n * Used throughout the UI for prices.\n */\nexport function formatPrice(cents: number): string {\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n  }).format(cents / 100)\n}\n\n/**\n * Format price per pound display.\n * e.g. \"$3.49/lb\"\n */\nexport function formatPricePerLb(pricePerLbCents: number): string {\n  return `${formatPrice(pricePerLbCents)}/lb`\n}\n\n/**\n * Calculate savings percentage between base and tier price.\n */\nexport function calcSavingsPercent(base: number, sale: number): number {\n  if (base === 0) return 0\n  return Math.round(((base - sale) / base) * 100)\n}\n\n/**\n * Determine delivery provider based on total order weight.\n * Orders over 30lb go to private van per business rules.\n */\nexport function getDeliveryProvider(\n  totalWeightLbs: number\n): \"uber_direct\" | \"doordash\" | \"private_van\" {\n  if (totalWeightLbs > config.delivery.maxWeightForUber) {\n    return \"private_van\"\n  }\n  // Under 30lb - Uber Direct preferred, DoorDash as fallback\n  return \"uber_direct\"\n}\n\n/**\n * Check if a zip code is in the current service area.\n */\nexport function isZipCodeServiced(zip: string): boolean {\n  return (BUSINESS.SERVICE_ZIPCODES as readonly string[]).includes(zip)\n}\n\n/**\n * Generate a human-readable order number.\n * e.g. \"BR-2024-00042\"\n */\nexport function generateOrderNumber(id: number): string {\n  const year = new Date().getFullYear()\n  return `BR-${year}-${String(id).padStart(5, \"0\")}`\n}\n\n/**\n * Format a date for display in order tracking.\n */\nexport function formatDeliveryDate(isoString: string): string {\n  return new Intl.DateTimeFormat(\"en-US\", {\n    weekday: \"long\",\n    month: \"long\",\n    day: \"numeric\",\n  }).format(new Date(isoString))\n}\n\n/**\n * Get the next business day as an ISO date string.\n * Used for \"next day delivery\" display.\n */\nexport function getNextDeliveryDate(): string {\n  const tomorrow = new Date()\n  tomorrow.setDate(tomorrow.getDate() + 1)\n\n  // Skip Sunday (0) - no deliveries\n  if (tomorrow.getDay() === 0) {\n    tomorrow.setDate(tomorrow.getDate() + 1)\n  }\n\n  return tomorrow.toISOString()\n}\n\n/**\n * Calculate total weight of a cart in lbs.\n */\nexport function calcTotalWeight(\n  items: Array<{ weightLbs: number; quantity: number }>\n): number {\n  return items.reduce((sum, i) => sum + i.weightLbs * i.quantity, 0)\n}\n\n/**\n * Debounce a function - useful for search inputs.\n */\nexport function debounce<T extends (...args: unknown[]) => unknown>(\n  fn: T,\n  ms: number\n): (...args: Parameters<T>) => void {\n  let timeoutId: ReturnType<typeof setTimeout>\n  return (...args: Parameters<T>) => {\n    clearTimeout(timeoutId)\n    timeoutId = setTimeout(() => fn(...args), ms)\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;AAOO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yMAAO,EAAC,IAAA,gLAAI,EAAC;AACtB;AAMO,SAAS,YAAY,KAAa;IACvC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;IACZ,GAAG,MAAM,CAAC,QAAQ;AACpB;AAMO,SAAS,iBAAiB,eAAuB;IACtD,OAAO,GAAG,YAAY,iBAAiB,GAAG,CAAC;AAC7C;AAKO,SAAS,mBAAmB,IAAY,EAAE,IAAY;IAC3D,IAAI,SAAS,GAAG,OAAO;IACvB,OAAO,KAAK,KAAK,CAAC,AAAC,CAAC,OAAO,IAAI,IAAI,OAAQ;AAC7C;AAMO,SAAS,oBACd,cAAsB;IAEtB,IAAI,iBAAiB,kLAAM,CAAC,QAAQ,CAAC,gBAAgB,EAAE;QACrD,OAAO;IACT;IACA,2DAA2D;IAC3D,OAAO;AACT;AAKO,SAAS,kBAAkB,GAAW;IAC3C,OAAO,AAAC,oLAAQ,CAAC,gBAAgB,CAAuB,QAAQ,CAAC;AACnE;AAMO,SAAS,oBAAoB,EAAU;IAC5C,MAAM,OAAO,IAAI,OAAO,WAAW;IACnC,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,OAAO,IAAI,QAAQ,CAAC,GAAG,MAAM;AACpD;AAKO,SAAS,mBAAmB,SAAiB;IAClD,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,SAAS;QACT,OAAO;QACP,KAAK;IACP,GAAG,MAAM,CAAC,IAAI,KAAK;AACrB;AAMO,SAAS;IACd,MAAM,WAAW,IAAI;IACrB,SAAS,OAAO,CAAC,SAAS,OAAO,KAAK;IAEtC,kCAAkC;IAClC,IAAI,SAAS,MAAM,OAAO,GAAG;QAC3B,SAAS,OAAO,CAAC,SAAS,OAAO,KAAK;IACxC;IAEA,OAAO,SAAS,WAAW;AAC7B;AAKO,SAAS,gBACd,KAAqD;IAErD,OAAO,MAAM,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,SAAS,GAAG,EAAE,QAAQ,EAAE;AAClE;AAKO,SAAS,SACd,EAAK,EACL,EAAU;IAEV,IAAI;IACJ,OAAO,CAAC,GAAG;QACT,aAAa;QACb,YAAY,WAAW,IAAM,MAAM,OAAO;IAC5C;AACF"}},
    {"offset": {"line": 278, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/components/language-toggle.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * EN/ES pill toggle for auth screens (login, signup). Shown only on those routes;\n * language selection screen has its own full UI.\n */\n\nimport { usePathname } from \"next/navigation\"\nimport { useLanguage } from \"@/lib/context/language\"\nimport { cn } from \"@/lib/utils\"\n\nconst AUTH_WITH_TOGGLE = [\"/login\", \"/signup\", \"/signup/residential\", \"/signup/business\"]\n\nexport function LanguageToggle(): JSX.Element | null {\n  const pathname = usePathname()\n  const { language, setLanguage } = useLanguage()\n\n  if (!pathname || !AUTH_WITH_TOGGLE.includes(pathname)) return null\n\n  return (\n    <div\n      className={cn(\n        \"absolute top-4 right-4 z-50 flex rounded-[20px] border border-surface-border bg-surface-card p-0.5 gap-0.5\"\n      )}\n      role=\"group\"\n      aria-label=\"Language\"\n    >\n      <button\n        type=\"button\"\n        onClick={() => setLanguage(\"en\")}\n        className={cn(\n          \"rounded-2xl px-2.5 py-1 text-[11px] font-semibold tracking-wide transition-all\",\n          language === \"en\"\n            ? \"bg-brand-sage text-brand-black\"\n            : \"bg-transparent text-text-muted hover:text-text-secondary\"\n        )}\n      >\n        EN\n      </button>\n      <button\n        type=\"button\"\n        onClick={() => setLanguage(\"es\")}\n        className={cn(\n          \"rounded-2xl px-2.5 py-1 text-[11px] font-semibold tracking-wide transition-all\",\n          language === \"es\"\n            ? \"bg-brand-sage text-brand-black\"\n            : \"bg-transparent text-text-muted hover:text-text-secondary\"\n        )}\n      >\n        ES\n      </button>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;;;CAGC,GAED;AACA;AACA;AATA;;;;;AAWA,MAAM,mBAAmB;IAAC;IAAU;IAAW;IAAuB;CAAmB;AAElF,SAAS;IACd,MAAM,WAAW,IAAA,oLAAW;IAC5B,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,IAAA,mMAAW;IAE7C,IAAI,CAAC,YAAY,CAAC,iBAAiB,QAAQ,CAAC,WAAW,OAAO;IAE9D,qBACE,iRAAC;QACC,WAAW,IAAA,oLAAE,EACX;QAEF,MAAK;QACL,cAAW;;0BAEX,iRAAC;gBACC,MAAK;gBACL,SAAS,IAAM,YAAY;gBAC3B,WAAW,IAAA,oLAAE,EACX,kFACA,aAAa,OACT,mCACA;0BAEP;;;;;;0BAGD,iRAAC;gBACC,MAAK;gBACL,SAAS,IAAM,YAAY;gBAC3B,WAAW,IAAA,oLAAE,EACX,kFACA,aAAa,OACT,mCACA;0BAEP;;;;;;;;;;;;AAKP"}},
    {"offset": {"line": 340, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/components/auth-shell.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * Wrapper for auth layout: positions the language toggle (EN/ES) at top-right\n * and renders children. Used only under (auth) routes.\n */\n\nimport { LanguageToggle } from \"@/components/language-toggle\"\nimport { cn } from \"@/lib/utils\"\n\nexport function AuthShell({\n  children,\n  className,\n}: {\n  children: React.ReactNode\n  className?: string\n}): JSX.Element {\n  return (\n    <div className={cn(\"relative w-full flex-1 flex flex-col\", className)}>\n      <LanguageToggle />\n      {children}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;;;CAGC,GAED;AACA;AARA;;;;AAUO,SAAS,UAAU,EACxB,QAAQ,EACR,SAAS,EAIV;IACC,qBACE,iRAAC;QAAI,WAAW,IAAA,oLAAE,EAAC,wCAAwC;;0BACzD,iRAAC,4MAAc;;;;;YACd;;;;;;;AAGP"}}]
}