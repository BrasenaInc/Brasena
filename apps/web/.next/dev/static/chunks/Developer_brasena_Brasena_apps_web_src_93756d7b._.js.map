{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/lib/env.ts"],"sourcesContent":["/**\n * Validates required environment variables at startup and exports a typed env object.\n * Uses static process.env.X references so Next.js inlines them in the client bundle.\n */\n\nfunction validateEnv(): {\n  NEXT_PUBLIC_SUPABASE_URL: string\n  NEXT_PUBLIC_SUPABASE_ANON_KEY: string\n  NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY: string\n} {\n  const url = process.env.NEXT_PUBLIC_SUPABASE_URL ?? \"\"\n  const anonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY ?? \"\"\n  const stripeKey = process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY ?? \"\"\n\n  if (url.trim() === \"\") {\n    throw new Error(\n      \"Missing required environment variable: NEXT_PUBLIC_SUPABASE_URL - check your .env.local file\"\n    )\n  }\n  if (anonKey.trim() === \"\") {\n    throw new Error(\n      \"Missing required environment variable: NEXT_PUBLIC_SUPABASE_ANON_KEY - check your .env.local file\"\n    )\n  }\n  if (stripeKey.trim() === \"\") {\n    throw new Error(\n      \"Missing required environment variable: NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY - check your .env.local file\"\n    )\n  }\n\n  if (!url.startsWith(\"https://\") || !url.includes(\".supabase.co\")) {\n    throw new Error(\n      \"NEXT_PUBLIC_SUPABASE_URL must be the Supabase API URL (e.g. https://YOUR_REF.supabase.co). Use Project Settings → API → Project URL in the dashboard, not the Postgres connection string.\"\n    )\n  }\n\n  if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"development\") {\n    // eslint-disable-next-line no-console\n    console.log(\n      \"[Brasena] Env loaded: NEXT_PUBLIC_SUPABASE_URL, NEXT_PUBLIC_SUPABASE_ANON_KEY, NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY\"\n    )\n  }\n\n  return {\n    NEXT_PUBLIC_SUPABASE_URL: url.trim(),\n    NEXT_PUBLIC_SUPABASE_ANON_KEY: anonKey.trim(),\n    NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY: stripeKey.trim(),\n  }\n}\n\nexport const env = validateEnv()\n"],"names":[],"mappings":";;;;AAUc;;;AAVd;;;CAGC,GAED,SAAS;QAKK,uCACI,4CACE;IAFlB,IAAM,OAAM,kIAAA,mDAAA,wCAAwC;IACpD,IAAM,WAAU,+SAAA,wDAAA,6CAA6C;IAC7D,IAAM,aAAY,uHAAA,6DAAA,kDAAkD;IAEpE,IAAI,IAAI,IAAI,OAAO,IAAI;QACrB,MAAM,IAAI,MACR;IAEJ;IACA,IAAI,QAAQ,IAAI,OAAO,IAAI;QACzB,MAAM,IAAI,MACR;IAEJ;IACA,IAAI,UAAU,IAAI,OAAO,IAAI;QAC3B,MAAM,IAAI,MACR;IAEJ;IAEA,IAAI,CAAC,IAAI,UAAU,CAAC,eAAe,CAAC,IAAI,QAAQ,CAAC,iBAAiB;QAChE,MAAM,IAAI,MACR;IAEJ;IAEA,IAAI,OAAO,8MAAO,KAAK,eAAe,oDAAyB,eAAe;QAC5E,sCAAsC;QACtC,QAAQ,GAAG,CACT;IAEJ;IAEA,OAAO;QACL,0BAA0B,IAAI,IAAI;QAClC,+BAA+B,QAAQ,IAAI;QAC3C,oCAAoC,UAAU,IAAI;IACpD;AACF;AAEO,IAAM,MAAM"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/config/index.ts"],"sourcesContent":["// ─── Environment Variables ─────────────────────────────\n// All env vars flow through here. Never import process.env directly\n// in components - always use this config object instead.\n// Required vars are validated at boot via @/lib/env.\n\nimport { env } from \"@/lib/env\"\n\nexport const config = {\n  app: {\n    name: \"Brasena\",\n    url: process.env.NEXT_PUBLIC_APP_URL ?? \"http://localhost:3000\",\n    env: process.env.NODE_ENV ?? \"development\",\n  },\n\n  supabase: {\n    url: env.NEXT_PUBLIC_SUPABASE_URL,\n    anonKey: env.NEXT_PUBLIC_SUPABASE_ANON_KEY,\n  },\n\n  stripe: {\n    publishableKey: env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY,\n    // secretKey only on server - never expose to client\n  },\n\n  maps: {\n    mapboxToken: process.env.NEXT_PUBLIC_MAPBOX_TOKEN,\n  },\n\n  delivery: {\n    uberDirectEnabled: process.env.NEXT_PUBLIC_UBER_DIRECT_ENABLED === \"true\",\n    maxWeightForUber: 30, // lbs - orders over 30lb go to private van\n  },\n} as const\n\n// ─── Business Constants ────────────────────────────────\nexport const BUSINESS = {\n  // Bulk pricing thresholds (lbs)\n  WEIGHT_TIERS: [10, 20, 30, 40] as const,\n\n  // Order routing\n  DRIVER_NOTIFY_DELAY_MS: 7 * 60 * 1000, // 5-10 min delay after vendor confirms\n\n  // Operating hours (EST)\n  HOURS: { open: 6, close: 23 }, // 6 AM - 11 PM\n\n  // Geographic\n  INITIAL_BOROUGH: \"Bronx\",\n  SERVICE_ZIPCODES: [\n    \"10451\", \"10452\", \"10453\", \"10454\", \"10455\",\n    \"10456\", \"10457\", \"10458\", \"10459\", \"10460\",\n    \"10461\", \"10462\", \"10463\", \"10464\", \"10465\",\n    \"10466\", \"10467\", \"10468\", \"10469\", \"10470\",\n    \"10471\", \"10472\", \"10473\", \"10474\", \"10475\",\n  ],\n\n  // Product\n  MAX_PHASE_1_PRODUCTS: 25,\n  CATEGORIES: [\"Beef\", \"Pork\", \"Chicken\"] as const,\n} as const\n\n// ─── Route Constants ───────────────────────────────────\nexport const ROUTES = {\n  // Public\n  HOME:     \"/\",\n  LANGUAGE: \"/language\",\n  LOGIN:    \"/login\",\n  SIGNUP:   \"/signup\",\n\n  // Shop (authenticated)\n  SHOP:       \"/home\",\n  CATEGORIES: \"/categories\",\n  PRODUCTS:   (category: string) => `/categories/${category}`,\n  PRODUCT:    (slug: string) => `/products/${slug}`,\n  CART:       \"/cart\",\n  CHECKOUT:   \"/checkout\",\n\n  // Orders\n  ORDERS:      \"/orders\",\n  ORDER:       (id: string) => `/orders/${id}`,\n  ORDER_TRACK: (id: string) => `/orders/${id}/track`,\n\n  // Account\n  ACCOUNT: \"/account\",\n\n  // Vendor (iPad interface)\n  VENDOR_QUEUE:  \"/vendor/queue\",\n  VENDOR_ORDER:  (id: string) => `/vendor/orders/${id}`,\n\n  // Admin\n  ADMIN_DASHBOARD: \"/admin/dashboard\",\n  ADMIN_PRODUCTS:  \"/admin/products\",\n  ADMIN_ORDERS:    \"/admin/orders\",\n} as const\n\n// ─── Profile Types ─────────────────────────────────────\nexport type ProfileType = \"residential\" | \"business\"\nexport type UserRole = \"customer\" | \"vendor\" | \"driver\" | \"csr\" | \"admin\"\n\n// ─── Order Status ──────────────────────────────────────\nexport const ORDER_STATUS = {\n  PENDING:         \"pending\",\n  CONFIRMED:       \"confirmed\",\n  PREPARING:       \"preparing\",\n  OUT_FOR_DELIVERY:\"out_for_delivery\",\n  DELIVERED:       \"delivered\",\n  CANCELLED:       \"cancelled\",\n} as const\n\nexport type OrderStatus = typeof ORDER_STATUS[keyof typeof ORDER_STATUS]\n"],"names":[],"mappings":";;;;;;;;;;AAUS;;AAVT,0DAA0D;AAC1D,oEAAoE;AACpE,yDAAyD;AACzD,qDAAqD;AAErD;;IAKS,kCACA;;AAJF,IAAM,SAAS;IACpB,KAAK;QACH,MAAM;QACN,GAAG,GAAE,0GAAA,8CAAA,mCAAmC;QACxC,GAAG,GAAE,qFAAA,mCAAA,wBAAwB;IAC/B;IAEA,UAAU;QACR,KAAK,6KAAG,CAAC,wBAAwB;QACjC,SAAS,6KAAG,CAAC,6BAA6B;IAC5C;IAEA,QAAQ;QACN,gBAAgB,6KAAG,CAAC,kCAAkC;IAExD;IAEA,MAAM;QACJ,WAAW;IACb;IAEA,UAAU;QACR,mBAAmB,8CAAgD;QACnE,kBAAkB;IACpB;AACF;AAGO,IAAM,WAAW;IACtB,gCAAgC;IAChC,cAAc;QAAC;QAAI;QAAI;QAAI;KAAG;IAE9B,gBAAgB;IAChB,wBAAwB,IAAI,KAAK;IAEjC,wBAAwB;IACxB,OAAO;QAAE,MAAM;QAAG,OAAO;IAAG;IAE5B,aAAa;IACb,iBAAiB;IACjB,kBAAkB;QAChB;QAAS;QAAS;QAAS;QAAS;QACpC;QAAS;QAAS;QAAS;QAAS;QACpC;QAAS;QAAS;QAAS;QAAS;QACpC;QAAS;QAAS;QAAS;QAAS;QACpC;QAAS;QAAS;QAAS;QAAS;KACrC;IAED,UAAU;IACV,sBAAsB;IACtB,YAAY;QAAC;QAAQ;QAAQ;KAAU;AACzC;AAGO,IAAM,SAAS;IACpB,SAAS;IACT,MAAU;IACV,UAAU;IACV,OAAU;IACV,QAAU;IAEV,uBAAuB;IACvB,MAAY;IACZ,YAAY;IACZ,UAAY,SAAC;eAAqB,AAAC,eAAuB,OAAT;;IACjD,SAAY,SAAC;eAAiB,AAAC,aAAiB,OAAL;;IAC3C,MAAY;IACZ,UAAY;IAEZ,SAAS;IACT,QAAa;IACb,OAAa,SAAC;eAAe,AAAC,WAAa,OAAH;;IACxC,aAAa,SAAC;eAAe,AAAC,WAAa,OAAH,IAAG;;IAE3C,UAAU;IACV,SAAS;IAET,0BAA0B;IAC1B,cAAe;IACf,cAAe,SAAC;eAAe,AAAC,kBAAoB,OAAH;;IAEjD,QAAQ;IACR,iBAAiB;IACjB,gBAAiB;IACjB,cAAiB;AACnB;AAOO,IAAM,eAAe;IAC1B,SAAiB;IACjB,WAAiB;IACjB,WAAiB;IACjB,kBAAiB;IACjB,WAAiB;IACjB,WAAiB;AACnB"}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\"\nimport type { SupabaseClient } from \"@supabase/supabase-js\"\nimport { config } from \"@/config\"\nimport type { Database } from \"@/types/supabase\"\n\n/**\n * Client-side Supabase instance.\n * Use this in Client Components (\"use client\").\n *\n * Why: Supabase SSR package handles cookie-based auth\n * automatically, keeping session state in sync between\n * server and client without manual token management.\n */\nexport function createClient(): SupabaseClient<Database> {\n  return createBrowserClient<Database>(\n    config.supabase.url,\n    config.supabase.anonKey\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAEA;;;;AAWO,SAAS;IACd,OAAO,IAAA,uOAAmB,EACxB,qLAAM,CAAC,QAAQ,CAAC,GAAG,EACnB,qLAAM,CAAC,QAAQ,CAAC,OAAO;AAE3B"}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/lib/supabase/index.ts"],"sourcesContent":["/**\n * Barrel for client-side Supabase. Export only the browser client so Client\n * Components never pull in server.ts (next/headers). For Server Components and\n * route handlers, import createServerSupabaseClient from \"@/lib/supabase/server\".\n */\n\nexport { createClient } from \"./client\"\n"],"names":[],"mappings":";;AAAA;;;;CAIC,GAED"}},
    {"offset": {"line": 231, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/lib/hooks/useSupabase.ts"],"sourcesContent":["\"use client\"\n\n/**\n * Returns a memoized Supabase browser client for use in Client Components.\n * Prevents creating a new client on every render and keeps auth in sync.\n */\n\nimport { useMemo } from \"react\"\nimport { createClient } from \"@/lib/supabase\"\n\nexport function useSupabase() {\n  return useMemo(() => createClient(), [])\n}\n"],"names":[],"mappings":";;;;;AAEA;;;CAGC,GAED;AACA;AAAA;;;AARA;;;AAUO,SAAS;;IACd,OAAO,IAAA,2MAAO;+BAAC;mBAAM,IAAA,qMAAY;;8BAAI,EAAE;AACzC;GAFgB"}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/lib/hooks/useAuth.ts"],"sourcesContent":["\"use client\"\n\n/**\n * Client-side auth state: current user, profile (from public.profiles), loading,\n * and signOut. Fetches profile after user is set; memoized return.\n */\n\nimport { useState, useEffect, useCallback, useMemo } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport type { User } from \"@supabase/supabase-js\"\nimport type { Database } from \"@/types/supabase\"\nimport { ROUTES } from \"@/config\"\nimport { useSupabase } from \"@/lib/hooks/useSupabase\"\n\nexport type Profile = Database[\"public\"][\"Tables\"][\"profiles\"][\"Row\"]\n\nexport function useAuth(): {\n  user: User | null\n  profile: Profile | null\n  loading: boolean\n  signOut: () => Promise<void>\n} {\n  const supabase = useSupabase()\n  const router = useRouter()\n  const [user, setUser] = useState<User | null>(null)\n  const [profile, setProfile] = useState<Profile | null>(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    let mounted = true\n\n    async function init(): Promise<void> {\n      try {\n        const { data: { user: u } } = await supabase.auth.getUser()\n        if (mounted) setUser(u)\n      } finally {\n        if (mounted) setLoading(false)\n      }\n    }\n\n    init()\n\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      if (mounted) setUser(session?.user ?? null)\n    })\n\n    return () => {\n      mounted = false\n      subscription.unsubscribe()\n    }\n  }, [supabase])\n\n  const userId = user?.id\n\n  useEffect(() => {\n    if (!userId) {\n      setProfile(null)\n      return\n    }\n\n    let mounted = true\n\n    async function fetchProfile(): Promise<void> {\n      const id = userId\n      if (!id) return\n      const { data, error } = await supabase\n        .from(\"profiles\")\n        .select(\"*\")\n        .eq(\"id\", id)\n        .maybeSingle()\n\n      if (mounted && !error) setProfile(data ?? null)\n    }\n\n    fetchProfile()\n    return () => {\n      mounted = false\n    }\n  }, [supabase, userId])\n\n  const signOut = useCallback(async (): Promise<void> => {\n    await supabase.auth.signOut()\n    setProfile(null)\n    router.push(\"/\")\n  }, [supabase, router])\n\n  return useMemo(() => ({ user, profile, loading, signOut }), [user, profile, loading, signOut])\n}\n"],"names":[],"mappings":";;;;;;;;AAEA;;;CAGC,GAED;AACA;AAIA;;;;;;AAZA;;;;AAgBO,SAAS;;IAMd,IAAM,WAAW,IAAA,sMAAW;IAC5B,IAAM,SAAS,IAAA,qLAAS;IACxB,IAAwB,wNAAA,IAAA,4MAAQ,EAAc,WAAvC,OAAiB,cAAX,UAAW;IACxB,IAA8B,yNAAA,IAAA,4MAAQ,EAAiB,WAAhD,UAAuB,eAAd,aAAc;IAC9B,IAA8B,yNAAA,IAAA,4MAAQ,EAAC,WAAhC,UAAuB,eAAd,aAAc;IAE9B,IAAA,6MAAS;6BAAC;gBAGO,OAAf,SAAe;;;4BAEmB,iBAAR;;;;;;;;;;;wCAAQ;;4CAAM,SAAS,IAAI,CAAC,OAAO;;;wCAA3B,OAAA,2BAAA,KAAtB,MAAc,cAAN;wCAChB,IAAI,SAAS,QAAQ;;;;;;wCAErB,IAAI,SAAS,WAAW;;;;;;;;;;;oBAE5B;;;YATA,IAAI,UAAU;YAWd;YAEA,IAEI,mCAAA,SAAS,IAAI,CAAC,iBAAiB;sEAAC,SAAC,QAAQ;;oBAC3C,IAAI,SAAS,gBAAQ,oBAAA,8BAAA,QAAS,IAAI,uCAAI;gBACxC;sEAHE,AAAQ,eACN,iCADF,KAAQ;YAKV;qCAAO;oBACL,UAAU;oBACV,aAAa,WAAW;gBAC1B;;QACF;4BAAG;QAAC;KAAS;IAEb,IAAM,SAAS,iBAAA,2BAAA,KAAM,EAAE;IAEvB,IAAA,6MAAS;6BAAC;gBAQO,eAAf,SAAe;;;4BACP,IAEkB,MAAhB,MAAM;;;;;wCAFR,KAAK;wCACX,IAAI,CAAC,IAAI;;;wCACe;;4CAAM,SAC3B,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,IACT,WAAW;;;wCAJU,OAAA,eAAhB,OAAgB,KAAhB,MAAM,QAAU,KAAV;wCAMd,IAAI,WAAW,CAAC,OAAO,WAAW,iBAAA,kBAAA,OAAQ;;;;;;;oBAC5C;;;YAjBA,IAAI,CAAC,QAAQ;gBACX,WAAW;gBACX;YACF;YAEA,IAAI,UAAU;YAcd;YACA;qCAAO;oBACL,UAAU;gBACZ;;QACF;4BAAG;QAAC;QAAU;KAAO;IAErB,IAAM,UAAU,IAAA,+MAAW;wCAAC;;;;;;;oCAC1B;;wCAAM,SAAS,IAAI,CAAC,OAAO;;;oCAA3B;oCACA,WAAW;oCACX,OAAO,IAAI,CAAC;;;;;;;gBACd;;;uCAAG;QAAC;QAAU;KAAO;IAErB,OAAO,IAAA,2MAAO;2BAAC;mBAAO;gBAAE,MAAA;gBAAM,SAAA;gBAAS,SAAA;gBAAS,SAAA;YAAQ;;0BAAI;QAAC;QAAM;QAAS;QAAS;KAAQ;AAC/F;GAzEgB;;QAMG,sMAAW;QACb,qLAAS"}},
    {"offset": {"line": 458, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/lib/utils/index.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\nimport { BUSINESS, config } from \"@/config\"\n\n/**\n * Merge Tailwind classes safely.\n * Handles conflicts like \"bg-red-500 bg-blue-500\" → \"bg-blue-500\"\n * This is the standard pattern for any Tailwind + React project.\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\n/**\n * Format a number as USD currency.\n * Used throughout the UI for prices.\n */\nexport function formatPrice(cents: number): string {\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n  }).format(cents / 100)\n}\n\n/**\n * Format price per pound display.\n * e.g. \"$3.49/lb\"\n */\nexport function formatPricePerLb(pricePerLbCents: number): string {\n  return `${formatPrice(pricePerLbCents)}/lb`\n}\n\n/**\n * Calculate savings percentage between base and tier price.\n */\nexport function calcSavingsPercent(base: number, sale: number): number {\n  if (base === 0) return 0\n  return Math.round(((base - sale) / base) * 100)\n}\n\n/**\n * Determine delivery provider based on total order weight.\n * Orders over 30lb go to private van per business rules.\n */\nexport function getDeliveryProvider(\n  totalWeightLbs: number\n): \"uber_direct\" | \"doordash\" | \"private_van\" {\n  if (totalWeightLbs > config.delivery.maxWeightForUber) {\n    return \"private_van\"\n  }\n  // Under 30lb - Uber Direct preferred, DoorDash as fallback\n  return \"uber_direct\"\n}\n\n/**\n * Check if a zip code is in the current service area.\n */\nexport function isZipCodeServiced(zip: string): boolean {\n  return (BUSINESS.SERVICE_ZIPCODES as readonly string[]).includes(zip)\n}\n\n/**\n * Generate a human-readable order number.\n * e.g. \"BR-2024-00042\"\n */\nexport function generateOrderNumber(id: number): string {\n  const year = new Date().getFullYear()\n  return `BR-${year}-${String(id).padStart(5, \"0\")}`\n}\n\n/**\n * Format a date for display in order tracking.\n */\nexport function formatDeliveryDate(isoString: string): string {\n  return new Intl.DateTimeFormat(\"en-US\", {\n    weekday: \"long\",\n    month: \"long\",\n    day: \"numeric\",\n  }).format(new Date(isoString))\n}\n\n/**\n * Get the next business day as an ISO date string.\n * Used for \"next day delivery\" display.\n */\nexport function getNextDeliveryDate(): string {\n  const tomorrow = new Date()\n  tomorrow.setDate(tomorrow.getDate() + 1)\n\n  // Skip Sunday (0) - no deliveries\n  if (tomorrow.getDay() === 0) {\n    tomorrow.setDate(tomorrow.getDate() + 1)\n  }\n\n  return tomorrow.toISOString()\n}\n\n/**\n * Calculate total weight of a cart in lbs.\n */\nexport function calcTotalWeight(\n  items: Array<{ weightLbs: number; quantity: number }>\n): number {\n  return items.reduce((sum, i) => sum + i.weightLbs * i.quantity, 0)\n}\n\n/**\n * Debounce a function - useful for search inputs.\n */\nexport function debounce<T extends (...args: unknown[]) => unknown>(\n  fn: T,\n  ms: number\n): (...args: Parameters<T>) => void {\n  let timeoutId: ReturnType<typeof setTimeout>\n  return (...args: Parameters<T>) => {\n    clearTimeout(timeoutId)\n    timeoutId = setTimeout(() => fn(...args), ms)\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;;;AAOO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,IAAA,4MAAO,EAAC,IAAA,mLAAI,EAAC;AACtB;AAMO,SAAS,YAAY,KAAa;IACvC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;IACZ,GAAG,MAAM,CAAC,QAAQ;AACpB;AAMO,SAAS,iBAAiB,eAAuB;IACtD,OAAO,AAAC,GAA+B,OAA7B,YAAY,kBAAiB;AACzC;AAKO,SAAS,mBAAmB,IAAY,EAAE,IAAY;IAC3D,IAAI,SAAS,GAAG,OAAO;IACvB,OAAO,KAAK,KAAK,CAAC,AAAC,CAAC,OAAO,IAAI,IAAI,OAAQ;AAC7C;AAMO,SAAS,oBACd,cAAsB;IAEtB,IAAI,iBAAiB,qLAAM,CAAC,QAAQ,CAAC,gBAAgB,EAAE;QACrD,OAAO;IACT;IACA,2DAA2D;IAC3D,OAAO;AACT;AAKO,SAAS,kBAAkB,GAAW;IAC3C,OAAO,AAAC,uLAAQ,CAAC,gBAAgB,CAAuB,QAAQ,CAAC;AACnE;AAMO,SAAS,oBAAoB,EAAU;IAC5C,IAAM,OAAO,IAAI,OAAO,WAAW;IACnC,OAAO,AAAC,MAAa,OAAR,MAAK,KAA+B,OAA5B,OAAO,IAAI,QAAQ,CAAC,GAAG;AAC9C;AAKO,SAAS,mBAAmB,SAAiB;IAClD,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,SAAS;QACT,OAAO;QACP,KAAK;IACP,GAAG,MAAM,CAAC,IAAI,KAAK;AACrB;AAMO,SAAS;IACd,IAAM,WAAW,IAAI;IACrB,SAAS,OAAO,CAAC,SAAS,OAAO,KAAK;IAEtC,kCAAkC;IAClC,IAAI,SAAS,MAAM,OAAO,GAAG;QAC3B,SAAS,OAAO,CAAC,SAAS,OAAO,KAAK;IACxC;IAEA,OAAO,SAAS,WAAW;AAC7B;AAKO,SAAS,gBACd,KAAqD;IAErD,OAAO,MAAM,MAAM,CAAC,SAAC,KAAK;eAAM,MAAM,EAAE,SAAS,GAAG,EAAE,QAAQ;OAAE;AAClE;AAKO,SAAS,SACd,EAAK,EACL,EAAU;IAEV,IAAI;IACJ,OAAO;yCAAI;YAAA;;QACT,aAAa;QACb,YAAY,WAAW;mBAAM,SAAA,KAAA,GAAG,gNAAG;WAAO;IAC5C;AACF"}},
    {"offset": {"line": 565, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/components/ui/spinner.tsx"],"sourcesContent":["/**\n * Reusable loading spinner: pure CSS animated ring. Used across loading states.\n * Supports size (sm, md, lg) and color (defaults to brand sage).\n */\n\nimport { cn } from \"@/lib/utils\"\n\ntype SpinnerSize = \"sm\" | \"md\" | \"lg\"\ntype SpinnerColor = \"sage\" | \"primary\" | \"mint\" | \"white\"\n\nconst sizeClasses: Record<SpinnerSize, string> = {\n  sm: \"w-6 h-6 border-2\",\n  md: \"w-10 h-10 border-2\",\n  lg: \"w-14 h-14 border-[3px]\",\n}\n\nconst colorClasses: Record<SpinnerColor, string> = {\n  sage: \"border-brand-sage border-t-transparent\",\n  primary: \"border-primary border-t-transparent\",\n  mint: \"border-brand-mint border-t-transparent\",\n  white: \"border-text-primary border-t-transparent\",\n}\n\ninterface SpinnerProps {\n  size?: SpinnerSize\n  color?: SpinnerColor\n  className?: string\n}\n\nexport function Spinner({\n  size = \"md\",\n  color = \"sage\",\n  className,\n}: SpinnerProps): JSX.Element {\n  return (\n    <div\n      role=\"status\"\n      aria-label=\"Loading\"\n      className={cn(\n        \"rounded-full animate-spin\",\n        sizeClasses[size],\n        colorClasses[color],\n        className\n      )}\n    />\n  )\n}\n"],"names":[],"mappings":";;;;;;AAAA;;;CAGC,GAED;;;;AAKA,IAAM,cAA2C;IAC/C,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEA,IAAM,eAA6C;IACjD,MAAM;IACN,SAAS;IACT,MAAM;IACN,OAAO;AACT;AAQO,SAAS,QAAQ,KAIT;sBAJS,MACtB,MAAA,gCAAO,mCADe,MAEtB,OAAA,kCAAQ,uBACR,YAHsB,MAGtB;IAEA,qBACE,gOAAC;QACC,MAAK;QACL,cAAW;QACX,WAAW,IAAA,uLAAE,EACX,6BACA,WAAW,CAAC,KAAK,EACjB,YAAY,CAAC,MAAM,EACnB;;;;;;AAIR;KAjBgB"}},
    {"offset": {"line": 611, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/app/%28shop%29/layout.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * Shop layout: app shell (responsive width), auth check. Unauthenticated users\n * are redirected to login with ?next=<current path> so they can return after signing in.\n */\n\nimport { useEffect } from \"react\"\nimport { useRouter, usePathname } from \"next/navigation\"\nimport { ROUTES } from \"@/config\"\nimport { useAuth } from \"@/lib/hooks/useAuth\"\nimport { Spinner } from \"@/components/ui/spinner\"\nimport { cn } from \"@/lib/utils\"\n\nexport default function ShopLayout({\n  children,\n}: {\n  children: React.ReactNode\n}): JSX.Element {\n  const { user, loading } = useAuth()\n  const router = useRouter()\n  const pathname = usePathname()\n\n  useEffect(() => {\n    if (loading) return\n    if (!user) {\n      const next = pathname ? `${pathname}` : ROUTES.SHOP\n      router.push(`${ROUTES.LOGIN}?next=${encodeURIComponent(next)}`)\n    }\n  }, [user, loading, router, pathname])\n\n  if (loading) {\n    return (\n      <div className={cn(\"min-h-screen flex items-center justify-center\")} style={{ background: \"var(--surface)\" }}>\n        <Spinner size=\"lg\" />\n      </div>\n    )\n  }\n\n  if (!user) {\n    return (\n      <div className={cn(\"min-h-screen flex items-center justify-center\")} style={{ background: \"var(--surface)\" }}>\n        <Spinner size=\"lg\" />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"app-shell min-h-screen overflow-hidden flex flex-col\">\n      {children}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;AAEA;;;CAGC,GAED;AACA;AACA;AACA;AACA;AACA;;;;AAZA;;;;;;;AAce,SAAS,WAAW,KAIlC;QAJkC,AACjC,WADiC,MACjC;;IAIA,IAA0B,WAAA,IAAA,8LAAO,KAAzB,OAAkB,SAAlB,MAAM,UAAY,SAAZ;IACd,IAAM,SAAS,IAAA,qLAAS;IACxB,IAAM,WAAW,IAAA,uLAAW;IAE5B,IAAA,6MAAS;gCAAC;YACR,IAAI,SAAS;YACb,IAAI,CAAC,MAAM;gBACT,IAAM,OAAO,WAAW,AAAC,GAAW,OAAT,YAAa,qLAAM,CAAC,IAAI;gBACnD,OAAO,IAAI,CAAC,AAAC,GAAuB,OAArB,qLAAM,CAAC,KAAK,EAAC,UAAiC,OAAzB,mBAAmB;YACzD;QACF;+BAAG;QAAC;QAAM;QAAS;QAAQ;KAAS;IAEpC,IAAI,SAAS;QACX,qBACE,gOAAC;YAAI,WAAW,IAAA,uLAAE,EAAC;YAAkD,OAAO;gBAAE,YAAY;YAAiB;sBACzG,cAAA,gOAAC,mMAAO;gBAAC,MAAK;;;;;;;;;;;IAGpB;IAEA,IAAI,CAAC,MAAM;QACT,qBACE,gOAAC;YAAI,WAAW,IAAA,uLAAE,EAAC;YAAkD,OAAO;gBAAE,YAAY;YAAiB;sBACzG,cAAA,gOAAC,mMAAO;gBAAC,MAAK;;;;;;;;;;;IAGpB;IAEA,qBACE,gOAAC;QAAI,WAAU;kBACZ;;;;;;AAGP;GAtCwB;;QAKI,8LAAO;QAClB,qLAAS;QACP,uLAAW;;;KAPN"}}]
}