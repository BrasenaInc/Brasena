{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/lib/env.ts"],"sourcesContent":["/**\n * Validates required environment variables at startup and exports a typed env object.\n * Run on config load so the app fails fast with a clear message if any required var is missing.\n */\n\nconst REQUIRED_KEYS = [\n  \"NEXT_PUBLIC_SUPABASE_URL\",\n  \"NEXT_PUBLIC_SUPABASE_ANON_KEY\",\n  \"NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY\",\n] as const\n\nfunction getEnv(key: string): string | undefined {\n  if (typeof process === \"undefined\") return undefined\n  return process.env[key]\n}\n\nfunction validateEnv(): {\n  NEXT_PUBLIC_SUPABASE_URL: string\n  NEXT_PUBLIC_SUPABASE_ANON_KEY: string\n  NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY: string\n} {\n  const missing: string[] = []\n  for (const key of REQUIRED_KEYS) {\n    const value = getEnv(key)\n    if (value === undefined || value.trim() === \"\") {\n      missing.push(key)\n    }\n  }\n  if (missing.length > 0) {\n    const first = missing[0]\n    throw new Error(\n      `Missing required environment variable: ${first} - check your .env.local file`\n    )\n  }\n\n  const url = getEnv(REQUIRED_KEYS[0])!.trim()\n  const anonKey = getEnv(REQUIRED_KEYS[1])!.trim()\n  const stripeKey = getEnv(REQUIRED_KEYS[2])!.trim()\n\n  if (!url.startsWith(\"https://\") || !url.includes(\".supabase.co\")) {\n    throw new Error(\n      \"NEXT_PUBLIC_SUPABASE_URL must be the Supabase API URL (e.g. https://YOUR_REF.supabase.co). Use Project Settings → API → Project URL in the dashboard, not the Postgres connection string.\"\n    )\n  }\n\n  if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"development\") {\n    // eslint-disable-next-line no-console\n    console.log(\n      \"[Brasena] Env loaded: NEXT_PUBLIC_SUPABASE_URL, NEXT_PUBLIC_SUPABASE_ANON_KEY, NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY\"\n    )\n  }\n\n  return {\n    NEXT_PUBLIC_SUPABASE_URL: url,\n    NEXT_PUBLIC_SUPABASE_ANON_KEY: anonKey,\n    NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY: stripeKey,\n  }\n}\n\nexport const env = validateEnv()\n"],"names":[],"mappings":";;;;AAYa;;;AAZb;;;CAGC,GAED,IAAM,gBAAgB;IACpB;IACA;IACA;CACD;AAED,SAAS,OAAO,GAAW;IACzB,IAAI,OAAO,8MAAO,KAAK,aAAa,OAAO;IAC3C,OAAO,8MAAO,CAAC,GAAG,CAAC,IAAI;AACzB;AAEA,SAAS;IAKP,IAAM,UAAoB,EAAE;QACvB,kCAAA,2BAAA;;QAAL,QAAK,YAAa,kCAAb,SAAA,6BAAA,QAAA,yBAAA,iCAA4B;YAA5B,IAAM,MAAN;YACH,IAAM,QAAQ,OAAO;YACrB,IAAI,UAAU,aAAa,MAAM,IAAI,OAAO,IAAI;gBAC9C,QAAQ,IAAI,CAAC;YACf;QACF;;QALK;QAAA;;;iBAAA,6BAAA;gBAAA;;;gBAAA;sBAAA;;;;IAML,IAAI,QAAQ,MAAM,GAAG,GAAG;QACtB,IAAM,QAAQ,OAAO,CAAC,EAAE;QACxB,MAAM,IAAI,MACR,AAAC,0CAA+C,OAAN,OAAM;IAEpD;IAEA,IAAM,MAAM,OAAO,aAAa,CAAC,EAAE,EAAG,IAAI;IAC1C,IAAM,UAAU,OAAO,aAAa,CAAC,EAAE,EAAG,IAAI;IAC9C,IAAM,YAAY,OAAO,aAAa,CAAC,EAAE,EAAG,IAAI;IAEhD,IAAI,CAAC,IAAI,UAAU,CAAC,eAAe,CAAC,IAAI,QAAQ,CAAC,iBAAiB;QAChE,MAAM,IAAI,MACR;IAEJ;IAEA,IAAI,OAAO,8MAAO,KAAK,eAAe,oDAAyB,eAAe;QAC5E,sCAAsC;QACtC,QAAQ,GAAG,CACT;IAEJ;IAEA,OAAO;QACL,0BAA0B;QAC1B,+BAA+B;QAC/B,oCAAoC;IACtC;AACF;AAEO,IAAM,MAAM"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/config/index.ts"],"sourcesContent":["// ─── Environment Variables ─────────────────────────────\n// All env vars flow through here. Never import process.env directly\n// in components - always use this config object instead.\n// Required vars are validated at boot via @/lib/env.\n\nimport { env } from \"@/lib/env\"\n\nexport const config = {\n  app: {\n    name: \"Brasena\",\n    url: process.env.NEXT_PUBLIC_APP_URL ?? \"http://localhost:3000\",\n    env: process.env.NODE_ENV ?? \"development\",\n  },\n\n  supabase: {\n    url: env.NEXT_PUBLIC_SUPABASE_URL,\n    anonKey: env.NEXT_PUBLIC_SUPABASE_ANON_KEY,\n  },\n\n  stripe: {\n    publishableKey: env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY,\n    // secretKey only on server - never expose to client\n  },\n\n  maps: {\n    mapboxToken: process.env.NEXT_PUBLIC_MAPBOX_TOKEN,\n  },\n\n  delivery: {\n    uberDirectEnabled: process.env.NEXT_PUBLIC_UBER_DIRECT_ENABLED === \"true\",\n    maxWeightForUber: 30, // lbs - orders over 30lb go to private van\n  },\n} as const\n\n// ─── Business Constants ────────────────────────────────\nexport const BUSINESS = {\n  // Bulk pricing thresholds (lbs)\n  WEIGHT_TIERS: [10, 20, 30, 40] as const,\n\n  // Order routing\n  DRIVER_NOTIFY_DELAY_MS: 7 * 60 * 1000, // 5-10 min delay after vendor confirms\n\n  // Operating hours (EST)\n  HOURS: { open: 6, close: 23 }, // 6 AM - 11 PM\n\n  // Geographic\n  INITIAL_BOROUGH: \"Bronx\",\n  SERVICE_ZIPCODES: [\n    \"10451\", \"10452\", \"10453\", \"10454\", \"10455\",\n    \"10456\", \"10457\", \"10458\", \"10459\", \"10460\",\n    \"10461\", \"10462\", \"10463\", \"10464\", \"10465\",\n    \"10466\", \"10467\", \"10468\", \"10469\", \"10470\",\n    \"10471\", \"10472\", \"10473\", \"10474\", \"10475\",\n  ],\n\n  // Product\n  MAX_PHASE_1_PRODUCTS: 25,\n  CATEGORIES: [\"Beef\", \"Pork\", \"Chicken\"] as const,\n} as const\n\n// ─── Route Constants ───────────────────────────────────\nexport const ROUTES = {\n  // Public\n  HOME:    \"/\",\n  LOGIN:   \"/login\",\n  SIGNUP:  \"/signup\",\n\n  // Shop (authenticated)\n  SHOP:       \"/home\",\n  CATEGORIES: \"/categories\",\n  PRODUCTS:   (category: string) => `/categories/${category}`,\n  PRODUCT:    (slug: string) => `/products/${slug}`,\n  CART:       \"/cart\",\n  CHECKOUT:   \"/checkout\",\n\n  // Orders\n  ORDERS:      \"/orders\",\n  ORDER:       (id: string) => `/orders/${id}`,\n  ORDER_TRACK: (id: string) => `/orders/${id}/track`,\n\n  // Account\n  ACCOUNT: \"/account\",\n\n  // Vendor (iPad interface)\n  VENDOR_QUEUE:  \"/vendor/queue\",\n  VENDOR_ORDER:  (id: string) => `/vendor/orders/${id}`,\n\n  // Admin\n  ADMIN_DASHBOARD: \"/admin/dashboard\",\n  ADMIN_PRODUCTS:  \"/admin/products\",\n  ADMIN_ORDERS:    \"/admin/orders\",\n} as const\n\n// ─── Profile Types ─────────────────────────────────────\nexport type ProfileType = \"residential\" | \"business\"\nexport type UserRole = \"customer\" | \"vendor\" | \"driver\" | \"csr\" | \"admin\"\n\n// ─── Order Status ──────────────────────────────────────\nexport const ORDER_STATUS = {\n  PENDING:         \"pending\",\n  CONFIRMED:       \"confirmed\",\n  PREPARING:       \"preparing\",\n  OUT_FOR_DELIVERY:\"out_for_delivery\",\n  DELIVERED:       \"delivered\",\n  CANCELLED:       \"cancelled\",\n} as const\n\nexport type OrderStatus = typeof ORDER_STATUS[keyof typeof ORDER_STATUS]\n"],"names":[],"mappings":";;;;;;;;;;AAUS;;AAVT,0DAA0D;AAC1D,oEAAoE;AACpE,yDAAyD;AACzD,qDAAqD;AAErD;;IAKS,kCACA;;AAJF,IAAM,SAAS;IACpB,KAAK;QACH,MAAM;QACN,GAAG,GAAE,0GAAA,8CAAA,mCAAmC;QACxC,GAAG,GAAE,qFAAA,mCAAA,wBAAwB;IAC/B;IAEA,UAAU;QACR,KAAK,6KAAG,CAAC,wBAAwB;QACjC,SAAS,6KAAG,CAAC,6BAA6B;IAC5C;IAEA,QAAQ;QACN,gBAAgB,6KAAG,CAAC,kCAAkC;IAExD;IAEA,MAAM;QACJ,WAAW;IACb;IAEA,UAAU;QACR,mBAAmB,8CAAgD;QACnE,kBAAkB;IACpB;AACF;AAGO,IAAM,WAAW;IACtB,gCAAgC;IAChC,cAAc;QAAC;QAAI;QAAI;QAAI;KAAG;IAE9B,gBAAgB;IAChB,wBAAwB,IAAI,KAAK;IAEjC,wBAAwB;IACxB,OAAO;QAAE,MAAM;QAAG,OAAO;IAAG;IAE5B,aAAa;IACb,iBAAiB;IACjB,kBAAkB;QAChB;QAAS;QAAS;QAAS;QAAS;QACpC;QAAS;QAAS;QAAS;QAAS;QACpC;QAAS;QAAS;QAAS;QAAS;QACpC;QAAS;QAAS;QAAS;QAAS;QACpC;QAAS;QAAS;QAAS;QAAS;KACrC;IAED,UAAU;IACV,sBAAsB;IACtB,YAAY;QAAC;QAAQ;QAAQ;KAAU;AACzC;AAGO,IAAM,SAAS;IACpB,SAAS;IACT,MAAS;IACT,OAAS;IACT,QAAS;IAET,uBAAuB;IACvB,MAAY;IACZ,YAAY;IACZ,UAAY,SAAC;eAAqB,AAAC,eAAuB,OAAT;;IACjD,SAAY,SAAC;eAAiB,AAAC,aAAiB,OAAL;;IAC3C,MAAY;IACZ,UAAY;IAEZ,SAAS;IACT,QAAa;IACb,OAAa,SAAC;eAAe,AAAC,WAAa,OAAH;;IACxC,aAAa,SAAC;eAAe,AAAC,WAAa,OAAH,IAAG;;IAE3C,UAAU;IACV,SAAS;IAET,0BAA0B;IAC1B,cAAe;IACf,cAAe,SAAC;eAAe,AAAC,kBAAoB,OAAH;;IAEjD,QAAQ;IACR,iBAAiB;IACjB,gBAAiB;IACjB,cAAiB;AACnB;AAOO,IAAM,eAAe;IAC1B,SAAiB;IACjB,WAAiB;IACjB,WAAiB;IACjB,kBAAiB;IACjB,WAAiB;IACjB,WAAiB;AACnB"}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\"\nimport type { SupabaseClient } from \"@supabase/supabase-js\"\nimport { config } from \"@/config\"\nimport type { Database } from \"@/types/supabase\"\n\n/**\n * Client-side Supabase instance.\n * Use this in Client Components (\"use client\").\n *\n * Why: Supabase SSR package handles cookie-based auth\n * automatically, keeping session state in sync between\n * server and client without manual token management.\n */\nexport function createClient(): SupabaseClient<Database> {\n  return createBrowserClient<Database>(\n    config.supabase.url,\n    config.supabase.anonKey\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAEA;;;;AAWO,SAAS;IACd,OAAO,IAAA,uOAAmB,EACxB,qLAAM,CAAC,QAAQ,CAAC,GAAG,EACnB,qLAAM,CAAC,QAAQ,CAAC,OAAO;AAE3B"}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\"\nimport { cookies } from \"next/headers\"\nimport { config } from \"@/config\"\nimport type { Database } from \"@/types/supabase\"\n\n/**\n * Server-side Supabase instance.\n * Use this in Server Components, Server Actions, and Route Handlers.\n *\n * Why: Server components can't use browser APIs, so we need\n * a separate client that reads/writes cookies via Next.js headers.\n * This is what allows auth state to persist across page loads.\n */\nexport async function createServerSupabaseClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient<Database>(\n    config.supabase.url,\n    config.supabase.anonKey,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll()\n        },\n        setAll(cookiesToSet: Array<{ name: string; value: string; options?: Record<string, unknown> }>) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }: { name: string; value: string; options?: Record<string, unknown> }) => {\n              cookieStore.set(name, value, options)\n            })\n          } catch {\n            // Server Component - cookies can't be set here.\n            // Middleware handles session refresh instead.\n          }\n        },\n      },\n    }\n  )\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AACA;AACA;;;;;;;AAWO,SAAe;;YACd;;;;oBAAc;;wBAAM,IAAA,gLAAO;;;oBAA3B,cAAc;oBAEpB;;wBAAO,IAAA,qOAAkB,EACvB,qLAAM,CAAC,QAAQ,CAAC,GAAG,EACnB,qLAAM,CAAC,QAAQ,CAAC,OAAO,EACvB;4BACE,SAAS;gCACP,QAAA,SAAA;oCACE,OAAO,YAAY,MAAM;gCAC3B;gCACA,QAAA,SAAA,OAAO,YAAuF;oCAC5F,IAAI;wCACF,aAAa,OAAO,CAAC;gDAAG,aAAA,MAAM,cAAA,OAAO,gBAAA;4CACnC,YAAY,GAAG,CAAC,MAAM,OAAO;wCAC/B;oCACF,EAAE,eAAM;oCACN,gDAAgD;oCAChD,8CAA8C;oCAChD;gCACF;4BACF;wBACF;;;;IAEJ"}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/lib/supabase/index.ts"],"sourcesContent":["/**\n * Barrel export for Supabase clients.\n * Import from @/lib/supabase instead of reaching into client.ts or server.ts.\n */\n\nexport { createClient } from \"./client\"\nexport { createServerSupabaseClient } from \"./server\"\n"],"names":[],"mappings":";;AAAA;;;CAGC,GAED;AACA"}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/lib/hooks/useSupabase.ts"],"sourcesContent":["\"use client\"\n\n/**\n * Returns a memoized Supabase browser client for use in Client Components.\n * Prevents creating a new client on every render and keeps auth in sync.\n */\n\nimport { useMemo } from \"react\"\nimport { createClient } from \"@/lib/supabase\"\n\nexport function useSupabase() {\n  return useMemo(() => createClient(), [])\n}\n"],"names":[],"mappings":";;;;;AAEA;;;CAGC,GAED;AACA;AAAA;;;AARA;;;AAUO,SAAS;;IACd,OAAO,IAAA,2MAAO;+BAAC;mBAAM,IAAA,qMAAY;;8BAAI,EAAE;AACzC;GAFgB"}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/lib/validators/index.ts"],"sourcesContent":["import { z } from \"zod\"\n\n// ─── Auth Schemas ──────────────────────────────────────\n\nconst signupBaseSchema = z.object({\n  name: z\n    .string()\n    .min(2, \"Name must be at least 2 characters\")\n    .max(60, \"Name is too long\"),\n\n  email: z\n    .string()\n    .email(\"Please enter a valid email address\"),\n\n  phone: z\n    .string()\n    .regex(/^\\+?[\\d\\s\\-().]{10,}$/, \"Please enter a valid phone number\"),\n\n  password: z\n    .string()\n    .min(8, \"Password must be at least 8 characters\")\n    .regex(/[A-Z]/, \"Password must contain at least one uppercase letter\")\n    .regex(/[0-9]/, \"Password must contain at least one number\"),\n\n  profileType: z.enum([\"residential\", \"business\"]),\n\n  preferredLanguage: z.enum([\"en\", \"es\"]).default(\"en\"),\n\n  // B2B only fields\n  businessName: z.string().optional(),\n  ein: z.string().optional(),\n\n  // Agreement (boolean so form can default to false; validation requires true)\n  agreeToTerms: z\n    .boolean()\n    .refine((v) => v === true, { message: \"You must agree to the terms\" }),\n})\n\nconst businessRefine = (\n  data: { profileType: string; businessName?: string; ein?: string }\n) => {\n  if (data.profileType === \"business\") {\n    return !!data.businessName && !!data.ein\n  }\n  return true\n}\n\nexport const signupSchema = signupBaseSchema.refine(businessRefine, {\n  message: \"Business name and EIN are required for business accounts\",\n  path: [\"businessName\"],\n})\n\nexport const loginSchema = z.object({\n  email: z.string().email(\"Please enter a valid email address\"),\n  password: z.string().min(1, \"Password is required\"),\n})\n\n// ─── Address Schema ────────────────────────────────────\n\nexport const addressSchema = z.object({\n  street: z\n    .string()\n    .min(5, \"Please enter a valid street address\"),\n\n  apt: z.string().optional(),\n\n  city: z\n    .string()\n    .min(2, \"City is required\"),\n\n  state: z\n    .string()\n    .length(2, \"Please use 2-letter state code (e.g. NY)\"),\n\n  zip: z\n    .string()\n    .regex(/^\\d{5}$/, \"Please enter a valid 5-digit ZIP code\"),\n\n  instructions: z\n    .string()\n    .max(200, \"Instructions too long\")\n    .optional(),\n})\n\n// Signup with address and birthday (for residential/business form pages)\nexport const signupWithAddressSchema = signupBaseSchema\n  .extend({\n    birthday: z.string().min(1, \"Birthday is required\"),\n    deliveryAddress: addressSchema,\n  })\n  .refine(businessRefine, {\n    message: \"Business name and EIN are required for business accounts\",\n    path: [\"businessName\"],\n  })\n\n// ─── Checkout Schema ───────────────────────────────────\n\nexport const checkoutSchema = z.object({\n  deliveryAddress: addressSchema,\n  paymentMethodId: z.string().min(1, \"Please select a payment method\"),\n  saveAddress: z.boolean().default(false),\n  notes: z.string().max(200).optional(),\n})\n\n// ─── Phone Order Schema (CSR) ──────────────────────────\n\nexport const phoneOrderSchema = z.object({\n  customerPhone: z\n    .string()\n    .regex(/^\\+?[\\d\\s\\-().]{10,}$/, \"Invalid phone number\"),\n\n  deliveryAddress: addressSchema,\n\n  items: z.array(\n    z.object({\n      productId: z.string().uuid(),\n      weightLbs: z.enum([\"10\", \"20\", \"30\", \"40\"]),\n      quantity: z.number().int().min(1).max(99),\n    })\n  ).min(1, \"Order must have at least one item\"),\n\n  paymentMethod: z.enum([\"card\", \"cash_on_delivery\"]),\n  notes: z.string().optional(),\n})\n\n// ─── Type Exports ──────────────────────────────────────\n\nexport type SignupFormData        = z.infer<typeof signupSchema>\nexport type SignupWithAddressFormData = z.infer<typeof signupWithAddressSchema>\nexport type LoginFormData         = z.infer<typeof loginSchema>\nexport type AddressFormData  = z.infer<typeof addressSchema>\nexport type CheckoutFormData = z.infer<typeof checkoutSchema>\nexport type PhoneOrderData   = z.infer<typeof phoneOrderSchema>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;;;AAEA,0DAA0D;AAE1D,IAAM,mBAAmB,6MAAC,CAAC,MAAM,CAAC;IAChC,MAAM,6MAAC,CACJ,MAAM,GACN,GAAG,CAAC,GAAG,sCACP,GAAG,CAAC,IAAI;IAEX,OAAO,6MAAC,CACL,MAAM,GACN,KAAK,CAAC;IAET,OAAO,6MAAC,CACL,MAAM,GACN,KAAK,CAAC,yBAAyB;IAElC,UAAU,6MAAC,CACR,MAAM,GACN,GAAG,CAAC,GAAG,0CACP,KAAK,CAAC,SAAS,uDACf,KAAK,CAAC,SAAS;IAElB,aAAa,6MAAC,CAAC,IAAI,CAAC;QAAC;QAAe;KAAW;IAE/C,mBAAmB,6MAAC,CAAC,IAAI,CAAC;QAAC;QAAM;KAAK,EAAE,OAAO,CAAC;IAEhD,kBAAkB;IAClB,cAAc,6MAAC,CAAC,MAAM,GAAG,QAAQ;IACjC,KAAK,6MAAC,CAAC,MAAM,GAAG,QAAQ;IAExB,6EAA6E;IAC7E,cAAc,6MAAC,CACZ,OAAO,GACP,MAAM,CAAC,SAAC;eAAM,MAAM;OAAM;QAAE,SAAS;IAA8B;AACxE;AAEA,IAAM,iBAAiB,SACrB;IAEA,IAAI,KAAK,WAAW,KAAK,YAAY;QACnC,OAAO,CAAC,CAAC,KAAK,YAAY,IAAI,CAAC,CAAC,KAAK,GAAG;IAC1C;IACA,OAAO;AACT;AAEO,IAAM,eAAe,iBAAiB,MAAM,CAAC,gBAAgB;IAClE,SAAS;IACT,MAAM;QAAC;KAAe;AACxB;AAEO,IAAM,cAAc,6MAAC,CAAC,MAAM,CAAC;IAClC,OAAO,6MAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,UAAU,6MAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAC9B;AAIO,IAAM,gBAAgB,6MAAC,CAAC,MAAM,CAAC;IACpC,QAAQ,6MAAC,CACN,MAAM,GACN,GAAG,CAAC,GAAG;IAEV,KAAK,6MAAC,CAAC,MAAM,GAAG,QAAQ;IAExB,MAAM,6MAAC,CACJ,MAAM,GACN,GAAG,CAAC,GAAG;IAEV,OAAO,6MAAC,CACL,MAAM,GACN,MAAM,CAAC,GAAG;IAEb,KAAK,6MAAC,CACH,MAAM,GACN,KAAK,CAAC,WAAW;IAEpB,cAAc,6MAAC,CACZ,MAAM,GACN,GAAG,CAAC,KAAK,yBACT,QAAQ;AACb;AAGO,IAAM,0BAA0B,iBACpC,MAAM,CAAC;IACN,UAAU,6MAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,iBAAiB;AACnB,GACC,MAAM,CAAC,gBAAgB;IACtB,SAAS;IACT,MAAM;QAAC;KAAe;AACxB;AAIK,IAAM,iBAAiB,6MAAC,CAAC,MAAM,CAAC;IACrC,iBAAiB;IACjB,iBAAiB,6MAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACnC,aAAa,6MAAC,CAAC,OAAO,GAAG,OAAO,CAAC;IACjC,OAAO,6MAAC,CAAC,MAAM,GAAG,GAAG,CAAC,KAAK,QAAQ;AACrC;AAIO,IAAM,mBAAmB,6MAAC,CAAC,MAAM,CAAC;IACvC,eAAe,6MAAC,CACb,MAAM,GACN,KAAK,CAAC,yBAAyB;IAElC,iBAAiB;IAEjB,OAAO,6MAAC,CAAC,KAAK,CACZ,6MAAC,CAAC,MAAM,CAAC;QACP,WAAW,6MAAC,CAAC,MAAM,GAAG,IAAI;QAC1B,WAAW,6MAAC,CAAC,IAAI,CAAC;YAAC;YAAM;YAAM;YAAM;SAAK;QAC1C,UAAU,6MAAC,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;IACxC,IACA,GAAG,CAAC,GAAG;IAET,eAAe,6MAAC,CAAC,IAAI,CAAC;QAAC;QAAQ;KAAmB;IAClD,OAAO,6MAAC,CAAC,MAAM,GAAG,QAAQ;AAC5B"}},
    {"offset": {"line": 458, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/lib/utils/index.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\nimport { BUSINESS, config } from \"@/config\"\n\n/**\n * Merge Tailwind classes safely.\n * Handles conflicts like \"bg-red-500 bg-blue-500\" → \"bg-blue-500\"\n * This is the standard pattern for any Tailwind + React project.\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\n/**\n * Format a number as USD currency.\n * Used throughout the UI for prices.\n */\nexport function formatPrice(cents: number): string {\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n  }).format(cents / 100)\n}\n\n/**\n * Format price per pound display.\n * e.g. \"$3.49/lb\"\n */\nexport function formatPricePerLb(pricePerLbCents: number): string {\n  return `${formatPrice(pricePerLbCents)}/lb`\n}\n\n/**\n * Calculate savings percentage between base and tier price.\n */\nexport function calcSavingsPercent(base: number, sale: number): number {\n  if (base === 0) return 0\n  return Math.round(((base - sale) / base) * 100)\n}\n\n/**\n * Determine delivery provider based on total order weight.\n * Orders over 30lb go to private van per business rules.\n */\nexport function getDeliveryProvider(\n  totalWeightLbs: number\n): \"uber_direct\" | \"doordash\" | \"private_van\" {\n  if (totalWeightLbs > config.delivery.maxWeightForUber) {\n    return \"private_van\"\n  }\n  // Under 30lb - Uber Direct preferred, DoorDash as fallback\n  return \"uber_direct\"\n}\n\n/**\n * Check if a zip code is in the current service area.\n */\nexport function isZipCodeServiced(zip: string): boolean {\n  return (BUSINESS.SERVICE_ZIPCODES as readonly string[]).includes(zip)\n}\n\n/**\n * Generate a human-readable order number.\n * e.g. \"BR-2024-00042\"\n */\nexport function generateOrderNumber(id: number): string {\n  const year = new Date().getFullYear()\n  return `BR-${year}-${String(id).padStart(5, \"0\")}`\n}\n\n/**\n * Format a date for display in order tracking.\n */\nexport function formatDeliveryDate(isoString: string): string {\n  return new Intl.DateTimeFormat(\"en-US\", {\n    weekday: \"long\",\n    month: \"long\",\n    day: \"numeric\",\n  }).format(new Date(isoString))\n}\n\n/**\n * Get the next business day as an ISO date string.\n * Used for \"next day delivery\" display.\n */\nexport function getNextDeliveryDate(): string {\n  const tomorrow = new Date()\n  tomorrow.setDate(tomorrow.getDate() + 1)\n\n  // Skip Sunday (0) - no deliveries\n  if (tomorrow.getDay() === 0) {\n    tomorrow.setDate(tomorrow.getDate() + 1)\n  }\n\n  return tomorrow.toISOString()\n}\n\n/**\n * Calculate total weight of a cart in lbs.\n */\nexport function calcTotalWeight(\n  items: Array<{ weightLbs: number; quantity: number }>\n): number {\n  return items.reduce((sum, i) => sum + i.weightLbs * i.quantity, 0)\n}\n\n/**\n * Debounce a function - useful for search inputs.\n */\nexport function debounce<T extends (...args: unknown[]) => unknown>(\n  fn: T,\n  ms: number\n): (...args: Parameters<T>) => void {\n  let timeoutId: ReturnType<typeof setTimeout>\n  return (...args: Parameters<T>) => {\n    clearTimeout(timeoutId)\n    timeoutId = setTimeout(() => fn(...args), ms)\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;;;AAOO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,IAAA,4MAAO,EAAC,IAAA,mLAAI,EAAC;AACtB;AAMO,SAAS,YAAY,KAAa;IACvC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;IACZ,GAAG,MAAM,CAAC,QAAQ;AACpB;AAMO,SAAS,iBAAiB,eAAuB;IACtD,OAAO,AAAC,GAA+B,OAA7B,YAAY,kBAAiB;AACzC;AAKO,SAAS,mBAAmB,IAAY,EAAE,IAAY;IAC3D,IAAI,SAAS,GAAG,OAAO;IACvB,OAAO,KAAK,KAAK,CAAC,AAAC,CAAC,OAAO,IAAI,IAAI,OAAQ;AAC7C;AAMO,SAAS,oBACd,cAAsB;IAEtB,IAAI,iBAAiB,qLAAM,CAAC,QAAQ,CAAC,gBAAgB,EAAE;QACrD,OAAO;IACT;IACA,2DAA2D;IAC3D,OAAO;AACT;AAKO,SAAS,kBAAkB,GAAW;IAC3C,OAAO,AAAC,uLAAQ,CAAC,gBAAgB,CAAuB,QAAQ,CAAC;AACnE;AAMO,SAAS,oBAAoB,EAAU;IAC5C,IAAM,OAAO,IAAI,OAAO,WAAW;IACnC,OAAO,AAAC,MAAa,OAAR,MAAK,KAA+B,OAA5B,OAAO,IAAI,QAAQ,CAAC,GAAG;AAC9C;AAKO,SAAS,mBAAmB,SAAiB;IAClD,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,SAAS;QACT,OAAO;QACP,KAAK;IACP,GAAG,MAAM,CAAC,IAAI,KAAK;AACrB;AAMO,SAAS;IACd,IAAM,WAAW,IAAI;IACrB,SAAS,OAAO,CAAC,SAAS,OAAO,KAAK;IAEtC,kCAAkC;IAClC,IAAI,SAAS,MAAM,OAAO,GAAG;QAC3B,SAAS,OAAO,CAAC,SAAS,OAAO,KAAK;IACxC;IAEA,OAAO,SAAS,WAAW;AAC7B;AAKO,SAAS,gBACd,KAAqD;IAErD,OAAO,MAAM,MAAM,CAAC,SAAC,KAAK;eAAM,MAAM,EAAE,SAAS,GAAG,EAAE,QAAQ;OAAE;AAClE;AAKO,SAAS,SACd,EAAK,EACL,EAAU;IAEV,IAAI;IACJ,OAAO;yCAAI;YAAA;;QACT,aAAa;QACb,YAAY,WAAW;mBAAM,SAAA,KAAA,GAAG,gNAAG;WAAO;IAC5C;AACF"}},
    {"offset": {"line": 565, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/components/ui/form-field.tsx"],"sourcesContent":["/**\n * Reusable form field: label, input, and error message. Used for consistent\n * auth and checkout forms with accessible labels and inline validation errors.\n */\n\nimport { forwardRef } from \"react\"\nimport { cn } from \"@/lib/utils\"\n\ninterface FormFieldProps\n  extends Omit<React.ComponentPropsWithoutRef<\"input\">, \"className\"> {\n  label: string\n  error?: string\n  required?: boolean\n  inputClassName?: string\n}\n\nexport const FormField = forwardRef<HTMLInputElement, FormFieldProps>(\n  function FormField(\n    { label, error, required, inputClassName, id, ...inputProps },\n    ref\n  ): JSX.Element {\n    const fieldId = id ?? `field-${label.replace(/\\s/g, \"-\").toLowerCase()}`\n    return (\n      <div className=\"w-full\">\n        <label\n          htmlFor={fieldId}\n          className=\"block text-sm font-medium text-text-primary mb-1.5\"\n        >\n          {label}\n          {required && <span className=\"text-brand-sage ml-0.5\">*</span>}\n        </label>\n        <input\n          ref={ref}\n          id={fieldId}\n          aria-invalid={!!error}\n          aria-describedby={error ? `${fieldId}-error` : undefined}\n          className={cn(\"input\", error && \"border-[color:var(--color-error)] focus:border-[color:var(--color-error)]\", inputClassName)}\n          {...inputProps}\n        />\n        {error && (\n          <p\n            id={`${fieldId}-error`}\n            role=\"alert\"\n            className=\"mt-1.5 text-sm text-[color:var(--color-error)]\"\n          >\n            {error}\n          </p>\n        )}\n      </div>\n    )\n  }\n)\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;CAGC,GAED;AACA;;;;;;;;;AAUO,IAAM,0BAAY,IAAA,8MAAU,OACjC,SAAS,UACP,EAA6D,EAC7D,EAAG;;;;qQADD,cAAA,OAAO,cAAA,OAAO,iBAAA,UAAU,uBAAA,gBAAgB,WAAA,IAAO;;;;;;wOACjD;IAEA,IAAM,UAAU,eAAA,gBAAA,KAAM,AAAC,SAAgD,OAAxC,MAAM,OAAO,CAAC,OAAO,KAAK,WAAW;IACpE,qBACE,gOAAC;QAAI,WAAU;;0BACb,gOAAC;gBACC,SAAS;gBACT,WAAU;;oBAET;oBACA,0BAAY,gOAAC;wBAAK,WAAU;kCAAyB;;;;;;;;;;;;0BAExD,gOAAC;gBACC,KAAK;gBACL,IAAI;gBACJ,gBAAc,CAAC,CAAC;gBAChB,oBAAkB,QAAQ,AAAC,GAAU,OAAR,SAAQ,YAAU;gBAC/C,WAAW,IAAA,uLAAE,EAAC,SAAS,SAAS,6EAA6E;eACzG;;;;;YAEL,uBACC,gOAAC;gBACC,IAAI,AAAC,GAAU,OAAR,SAAQ;gBACf,MAAK;gBACL,WAAU;0BAET;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 661, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/components/ui/spinner.tsx"],"sourcesContent":["/**\n * Reusable loading spinner: pure CSS animated ring. Used across loading states.\n * Supports size (sm, md, lg) and color (defaults to brand sage).\n */\n\nimport { cn } from \"@/lib/utils\"\n\ntype SpinnerSize = \"sm\" | \"md\" | \"lg\"\ntype SpinnerColor = \"sage\" | \"primary\" | \"mint\" | \"white\"\n\nconst sizeClasses: Record<SpinnerSize, string> = {\n  sm: \"w-6 h-6 border-2\",\n  md: \"w-10 h-10 border-2\",\n  lg: \"w-14 h-14 border-[3px]\",\n}\n\nconst colorClasses: Record<SpinnerColor, string> = {\n  sage: \"border-brand-sage border-t-transparent\",\n  primary: \"border-primary border-t-transparent\",\n  mint: \"border-brand-mint border-t-transparent\",\n  white: \"border-text-primary border-t-transparent\",\n}\n\ninterface SpinnerProps {\n  size?: SpinnerSize\n  color?: SpinnerColor\n  className?: string\n}\n\nexport function Spinner({\n  size = \"md\",\n  color = \"sage\",\n  className,\n}: SpinnerProps): JSX.Element {\n  return (\n    <div\n      role=\"status\"\n      aria-label=\"Loading\"\n      className={cn(\n        \"rounded-full animate-spin\",\n        sizeClasses[size],\n        colorClasses[color],\n        className\n      )}\n    />\n  )\n}\n"],"names":[],"mappings":";;;;;;AAAA;;;CAGC,GAED;;;;AAKA,IAAM,cAA2C;IAC/C,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEA,IAAM,eAA6C;IACjD,MAAM;IACN,SAAS;IACT,MAAM;IACN,OAAO;AACT;AAQO,SAAS,QAAQ,KAIT;sBAJS,MACtB,MAAA,gCAAO,mCADe,MAEtB,OAAA,kCAAQ,uBACR,YAHsB,MAGtB;IAEA,qBACE,gOAAC;QACC,MAAK;QACL,cAAW;QACX,WAAW,IAAA,uLAAE,EACX,6BACA,WAAW,CAAC,KAAK,EACjB,YAAY,CAAC,MAAM,EACnB;;;;;;AAIR;KAjBgB"}},
    {"offset": {"line": 707, "column": 0}, "map": {"version":3,"sources":["file:///Users/dre/Developer/brasena/Brasena/apps/web/src/app/%28auth%29/login/page.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * Login page: email/password sign-in with Supabase, validation via loginSchema,\n * and redirect to /home on success. Replaces Sprint 1 smoke test placeholder.\n */\n\nimport { useState } from \"react\"\nimport Link from \"next/link\"\nimport { useRouter } from \"next/navigation\"\nimport { useForm } from \"react-hook-form\"\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport { Eye, EyeOff } from \"lucide-react\"\nimport { ROUTES } from \"@/config\"\nimport { useSupabase } from \"@/lib/hooks/useSupabase\"\nimport { loginSchema, type LoginFormData } from \"@/lib/validators\"\nimport { FormField } from \"@/components/ui/form-field\"\nimport { Spinner } from \"@/components/ui/spinner\"\nimport { cn } from \"@/lib/utils\"\n\nexport default function LoginPage(): JSX.Element {\n  const router = useRouter()\n  const supabase = useSupabase()\n  const [showPassword, setShowPassword] = useState(false)\n  const [submitError, setSubmitError] = useState<string | null>(null)\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isSubmitting },\n  } = useForm<LoginFormData>({\n    resolver: zodResolver(loginSchema),\n    defaultValues: { email: \"\", password: \"\" },\n  })\n\n  async function onSubmit(data: LoginFormData): Promise<void> {\n    setSubmitError(null)\n    try {\n      const { error } = await supabase.auth.signInWithPassword({\n        email: data.email,\n        password: data.password,\n      })\n      if (error) {\n        setSubmitError(error.message)\n        return\n      }\n      router.push(ROUTES.SHOP)\n    } catch (err) {\n      setSubmitError(err instanceof Error ? err.message : \"Something went wrong\")\n    }\n  }\n\n  return (\n    <>\n      <h1 className=\"font-display text-2xl font-semibold text-text-primary mb-1\">\n        Welcome back\n      </h1>\n      <p className=\"text-text-secondary text-base mb-6\">\n        Sign in to your account\n      </p>\n\n      <form onSubmit={handleSubmit(onSubmit)} className=\"flex flex-col gap-4\">\n        <FormField\n          label=\"Email\"\n          type=\"email\"\n          autoComplete=\"email\"\n          required\n          error={errors.email?.message}\n          {...register(\"email\")}\n        />\n        <div className=\"w-full\">\n          <label className=\"block text-sm font-medium text-text-primary mb-1.5\">\n            Password <span className=\"text-brand-sage ml-0.5\">*</span>\n          </label>\n          <div className=\"relative\">\n            <input\n              type={showPassword ? \"text\" : \"password\"}\n              autoComplete=\"current-password\"\n              aria-invalid={!!errors.password}\n              className={cn(\n                \"input pr-12\",\n                errors.password && \"border-[color:var(--color-error)]\"\n              )}\n              {...register(\"password\")}\n            />\n            <button\n              type=\"button\"\n              onClick={() => setShowPassword((p) => !p)}\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-primary min-h-touch min-w-touch flex items-center justify-center\"\n              aria-label={showPassword ? \"Hide password\" : \"Show password\"}\n            >\n              {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\n            </button>\n          </div>\n          {errors.password && (\n            <p role=\"alert\" className=\"mt-1.5 text-sm text-[color:var(--color-error)]\">\n              {errors.password.message}\n            </p>\n          )}\n        </div>\n\n        {submitError && (\n          <p role=\"alert\" className=\"text-sm text-[color:var(--color-error)]\">\n            {submitError}\n          </p>\n        )}\n\n        <button\n          type=\"submit\"\n          disabled={isSubmitting}\n          className=\"btn-primary w-full flex items-center justify-center gap-2 min-h-touch\"\n        >\n          {isSubmitting ? (\n            <Spinner size=\"sm\" color=\"white\" />\n          ) : (\n            \"Sign in\"\n          )}\n        </button>\n      </form>\n\n      <p className=\"mt-6 text-center text-text-secondary text-sm\">\n        Don&apos;t have an account?{\" \"}\n        <Link href={ROUTES.SIGNUP} className=\"text-brand-sage font-medium hover:underline\">\n          Sign up\n        </Link>\n      </p>\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;;;CAGC,GAED;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAlBA;;;;;;;;;;;;;AAoBe,SAAS;QA+CP;;IA9Cf,IAAM,SAAS,IAAA,qLAAS;IACxB,IAAM,WAAW,IAAA,sMAAW;IAC5B,IAAwC,wNAAA,IAAA,4MAAQ,EAAC,YAA1C,eAAiC,cAAnB,kBAAmB;IACxC,IAAsC,yNAAA,IAAA,4MAAQ,EAAgB,WAAvD,cAA+B,eAAlB,iBAAkB;IAEtC,IAII,WAAA,IAAA,+MAAO,EAAgB;QACzB,UAAU,IAAA,mNAAW,EAAC,qMAAW;QACjC,eAAe;YAAE,OAAO;YAAI,UAAU;QAAG;IAC3C,IANE,WAGE,SAHF,UACA,eAEE,SAFF,mCAEE,SADF,WAAa,4BAAA,QAAQ,kCAAA;IAMvB,SAAe,SAAS,IAAmB;;gBAG/B,OASD;;;;wBAXT,eAAe;;;;;;;;;wBAEK;;4BAAM,SAAS,IAAI,CAAC,kBAAkB,CAAC;gCACvD,OAAO,KAAK,KAAK;gCACjB,UAAU,KAAK,QAAQ;4BACzB;;;wBAHQ,QAAU,cAAV;wBAIR,IAAI,OAAO;4BACT,eAAe,MAAM,OAAO;4BAC5B;;;wBACF;wBACA,OAAO,IAAI,CAAC,qLAAM,CAAC,IAAI;;;;;;wBAChB;wBACP,eAAe,IAAG,iMAAY,EAAf,KAAe,SAAQ,IAAI,OAAO,GAAG;;;;;;;;;;;QAExD;;IAEA,qBACE;;0BACE,gOAAC;gBAAG,WAAU;0BAA6D;;;;;;0BAG3E,gOAAC;gBAAE,WAAU;0BAAqC;;;;;;0BAIlD,gOAAC;gBAAK,UAAU,aAAa;gBAAW,WAAU;;kCAChD,gOAAC,2MAAS;wBACR,OAAM;wBACN,MAAK;wBACL,cAAa;wBACb,QAAQ;wBACR,KAAK,GAAE,gBAAA,OAAO,KAAK,cAAZ,oCAAA,cAAc,OAAO;uBACxB,SAAS;;;;;kCAEf,gOAAC;wBAAI,WAAU;;0CACb,gOAAC;gCAAM,WAAU;;oCAAqD;kDAC3D,gOAAC;wCAAK,WAAU;kDAAyB;;;;;;;;;;;;0CAEpD,gOAAC;gCAAI,WAAU;;kDACb,gOAAC;wCACC,MAAM,eAAe,SAAS;wCAC9B,cAAa;wCACb,gBAAc,CAAC,CAAC,OAAO,QAAQ;wCAC/B,WAAW,IAAA,uLAAE,EACX,eACA,OAAO,QAAQ,IAAI;uCAEjB,SAAS;;;;;kDAEf,gOAAC;wCACC,MAAK;wCACL,SAAS;mDAAM,gBAAgB,SAAC;uDAAM,CAAC;;;wCACvC,WAAU;wCACV,cAAY,eAAe,kBAAkB;kDAE5C,6BAAe,gOAAC,0PAAM;4CAAC,WAAU;;;;;iEAAe,gOAAC,6OAAG;4CAAC,WAAU;;;;;;;;;;;;;;;;;4BAGnE,OAAO,QAAQ,kBACd,gOAAC;gCAAE,MAAK;gCAAQ,WAAU;0CACvB,OAAO,QAAQ,CAAC,OAAO;;;;;;;;;;;;oBAK7B,6BACC,gOAAC;wBAAE,MAAK;wBAAQ,WAAU;kCACvB;;;;;;kCAIL,gOAAC;wBACC,MAAK;wBACL,UAAU;wBACV,WAAU;kCAET,6BACC,gOAAC,mMAAO;4BAAC,MAAK;4BAAK,OAAM;;;;;mCAEzB;;;;;;;;;;;;0BAKN,gOAAC;gBAAE,WAAU;;oBAA+C;oBAC9B;kCAC5B,gOAAC,6MAAI;wBAAC,MAAM,qLAAM,CAAC,MAAM;wBAAE,WAAU;kCAA8C;;;;;;;;;;;;;;AAM3F;GA5GwB;;QACP,qLAAS;QACP,sMAAW;QAQxB,+MAAO;;;KAVW"}}]
}