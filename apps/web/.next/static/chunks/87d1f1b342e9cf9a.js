(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67537,e=>{"use strict";var s=e.i(15424),t=e.i(26557),a=e.i(68645),r=e.i(33201),l=e.i(37621),i=e.i(22233),o=e.i(43217),n=e.i(70718),c=e.i(78600),m=e.i(593),d=e.i(71386),u=e.i(24415),x=e.i(52629),p=e.i(94545),h=e.i(41217),f=e.i(50898);function b(){var e;let b=(0,l.useRouter)(),j=(0,d.useSupabase)(),[w,y]=(0,a.useState)(!1),[g,v]=(0,a.useState)(null),{register:N,handleSubmit:S,formState:{errors:E,isSubmitting:O}}=(0,i.useForm)({resolver:(0,o.zodResolver)(u.loginSchema),defaultValues:{email:"",password:""}});async function P(e){v(null);try{let{error:s}=await j.auth.signInWithPassword({email:e.email,password:e.password});if(s)return void v(s.message);b.push(m.ROUTES.SHOP)}catch(e){v(e instanceof Error?e.message:"Something went wrong")}}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mb-6 flex justify-center",children:(0,t.jsx)(x.BrasenaLogo,{size:"sm"})}),(0,t.jsx)("h1",{className:"font-display text-2xl font-semibold text-text-primary mb-1",children:"Welcome back"}),(0,t.jsx)("p",{className:"text-text-secondary text-base mb-6",children:"Sign in to your account"}),(0,t.jsxs)("form",{onSubmit:S(P),className:"flex flex-col gap-4",children:[(0,t.jsx)(p.FormField,(0,s._)({label:"Email",type:"email",autoComplete:"email",required:!0,error:null==(e=E.email)?void 0:e.message},N("email"))),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-text-primary mb-1.5",children:["Password ",(0,t.jsx)("span",{className:"text-brand-sage ml-0.5",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",(0,s._)({type:w?"text":"password",autoComplete:"current-password","aria-invalid":!!E.password,className:(0,f.cn)("input pr-12",E.password&&"border-[color:var(--color-error)]")},N("password"))),(0,t.jsx)("button",{type:"button",onClick:()=>y(e=>!e),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-primary min-h-touch min-w-touch flex items-center justify-center","aria-label":w?"Hide password":"Show password",children:w?(0,t.jsx)(c.EyeOff,{className:"w-5 h-5"}):(0,t.jsx)(n.Eye,{className:"w-5 h-5"})})]}),E.password&&(0,t.jsx)("p",{role:"alert",className:"mt-1.5 text-sm text-[color:var(--color-error)]",children:E.password.message})]}),g&&(0,t.jsx)("p",{role:"alert",className:"text-sm text-[color:var(--color-error)]",children:g}),(0,t.jsx)("button",{type:"submit",disabled:O,className:"btn-primary w-full flex items-center justify-center gap-2 min-h-touch",children:O?(0,t.jsx)(h.Spinner,{size:"sm",color:"white"}):"Sign in"})]}),(0,t.jsxs)("p",{className:"mt-6 text-center text-text-secondary text-sm",children:["Don't have an account?"," ",(0,t.jsx)(r.default,{href:m.ROUTES.SIGNUP,className:"text-brand-sage font-medium hover:underline",children:"Sign up"})]})]})}e.s(["default",()=>b])}]);