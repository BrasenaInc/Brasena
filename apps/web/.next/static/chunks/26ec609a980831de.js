(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23054,e=>{"use strict";var t=e.i(26557),s=e.i(37501);let r=(0,s.default)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),a=(0,s.default)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var l=e.i(10899),i=e.i(50898);function n(){let{theme:e,setTheme:s}=(0,l.useTheme)();return(0,t.jsxs)("div",{className:"inline-flex rounded-[20px] border p-0.5 gap-0.5",style:{borderColor:"var(--border)",background:"var(--card)"},role:"group","aria-label":"Theme",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>s("dark"),className:(0,i.cn)("rounded-2xl px-3 py-1.5 text-xs font-medium flex items-center gap-1.5 min-h-[44px] transition-all","dark"===e?"bg-[var(--sage)] text-[var(--color-brand-black)]":"bg-transparent"),style:"dark"!==e?{color:"var(--text3)"}:void 0,children:[(0,t.jsx)(r,{className:"h-4 w-4",strokeWidth:1.8}),"Dark"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>s("light"),className:(0,i.cn)("rounded-2xl px-3 py-1.5 text-xs font-medium flex items-center gap-1.5 min-h-[44px] transition-all","light"===e?"bg-[var(--sage)] text-[var(--color-brand-black)]":"bg-transparent"),style:"light"!==e?{color:"var(--text3)"}:void 0,children:[(0,t.jsx)(a,{className:"h-4 w-4",strokeWidth:1.8}),"Light"]})]})}e.s(["ThemeToggle",()=>n],23054)},22333,e=>{"use strict";let t=(0,e.i(37501).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],22333)},6350,e=>{"use strict";let t=(0,e.i(37501).default)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);e.s(["TrendingDown",()=>t],6350)},20670,e=>{"use strict";let t;var s,r,a,l,i,n,o,c,d,h,u,p,m,x,b,v,f,y,g,_,k,w,j,N,C=e.i(53425),S=e.i(73987),M=e.i(10704),O=e.i(243),R=e.i(97663);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}var E=e.i(15424),P=e.i(94388),U=e.i(53940),W=e.i(75091),A=e.i(50342),q=e.i(3994),D=e.i(55324),I=e.i(86523),L=e.i(40976),Q=(s=new WeakMap,r=new WeakMap,a=new WeakMap,l=new WeakMap,i=new WeakMap,n=new WeakMap,o=new WeakMap,c=new WeakMap,d=new WeakMap,h=new WeakMap,u=new WeakMap,p=new WeakMap,m=new WeakMap,x=new WeakMap,b=new WeakMap,v=new WeakSet,f=new WeakSet,y=new WeakSet,g=new WeakSet,_=new WeakSet,k=new WeakSet,w=new WeakSet,j=new WeakSet,N=new WeakSet,class extends q.Subscribable{bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,C._)(this,r).addObserver(this),B((0,C._)(this,r),this.options)?(0,O._)(this,v,K).call(this):this.updateResult(),(0,O._)(this,_,X).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return F((0,C._)(this,r),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return F((0,C._)(this,r),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,O._)(this,k,$).call(this),(0,O._)(this,w,J).call(this),(0,C._)(this,r).removeObserver(this)}setOptions(e){let t=this.options,a=(0,C._)(this,r);if(this.options=(0,C._)(this,s).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,I.resolveEnabled)(this.options.enabled,(0,C._)(this,r)))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,O._)(this,j,Y).call(this),(0,C._)(this,r).setOptions(this.options),t._defaulted&&!(0,I.shallowEqualObjects)(this.options,t)&&(0,C._)(this,s).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,C._)(this,r),observer:this});let l=this.hasListeners();l&&z((0,C._)(this,r),a,this.options,t)&&(0,O._)(this,v,K).call(this),this.updateResult(),l&&((0,C._)(this,r)!==a||(0,I.resolveEnabled)(this.options.enabled,(0,C._)(this,r))!==(0,I.resolveEnabled)(t.enabled,(0,C._)(this,r))||(0,I.resolveStaleTime)(this.options.staleTime,(0,C._)(this,r))!==(0,I.resolveStaleTime)(t.staleTime,(0,C._)(this,r)))&&(0,O._)(this,f,V).call(this);let i=(0,O._)(this,y,Z).call(this);l&&((0,C._)(this,r)!==a||(0,I.resolveEnabled)(this.options.enabled,(0,C._)(this,r))!==(0,I.resolveEnabled)(t.enabled,(0,C._)(this,r))||i!==(0,C._)(this,x))&&(0,O._)(this,g,G).call(this,i)}getOptimisticResult(e){var t,a;let o=(0,C._)(this,s).getQueryCache().build((0,C._)(this,s),e),c=this.createResult(o,e);return t=this,a=c,(0,I.shallowEqualObjects)(t.getCurrentResult(),a)||((0,M._)(this,l,c),(0,M._)(this,n,this.options),(0,M._)(this,i,(0,C._)(this,r).state)),c}getCurrentResult(){return(0,C._)(this,l)}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),null==t||t(s),"promise"===s&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==(0,C._)(this,o).status||(0,C._)(this,o).reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,s))})}trackProp(e){(0,C._)(this,b).add(e)}getCurrentQuery(){return(0,C._)(this,r)}refetch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,[t={}]=[e],{}=t,s=T({},t);return this.fetch((0,E._)({},s))}fetchOptimistic(e){let t=(0,C._)(this,s).defaultQueryOptions(e),r=(0,C._)(this,s).getQueryCache().build((0,C._)(this,s),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){var t;return(0,O._)(this,v,K).call(this,(0,P._)((0,E._)({},e),{cancelRefetch:null==(t=e.cancelRefetch)||t})).then(()=>(this.updateResult(),(0,C._)(this,l)))}createResult(e,t){let s,p=(0,C._)(this,r),m=this.options,x=(0,C._)(this,l),b=(0,C._)(this,i),v=(0,C._)(this,n),f=e!==p?e.state:(0,C._)(this,a),{state:y}=e,g=(0,E._)({},y),_=!1;if(t._optimisticResults){let s=this.hasListeners(),r=!s&&B(e,t),a=s&&z(e,p,t,m);(r||a)&&(g=(0,E._)({},g,(0,A.fetchState)(y.data,e.options))),"isRestoring"===t._optimisticResults&&(g.fetchStatus="idle")}let{error:k,errorUpdatedAt:w,status:j}=g;s=g.data;let N=!1;if(void 0!==t.placeholderData&&void 0===s&&"pending"===j){let e;if((null==x?void 0:x.isPlaceholderData)&&t.placeholderData===(null==v?void 0:v.placeholderData))e=x.data,N=!0;else{var S;e="function"==typeof t.placeholderData?t.placeholderData(null==(S=(0,C._)(this,u))?void 0:S.state.data,(0,C._)(this,u)):t.placeholderData}void 0!==e&&(j="success",s=(0,I.replaceData)(null==x?void 0:x.data,e,t),_=!0)}if(t.select&&void 0!==s&&!N)if(x&&s===(null==b?void 0:b.data)&&t.select===(0,C._)(this,d))s=(0,C._)(this,h);else try{(0,M._)(this,d,t.select),s=t.select(s),s=(0,I.replaceData)(null==x?void 0:x.data,s,t),(0,M._)(this,h,s),(0,M._)(this,c,null)}catch(e){(0,M._)(this,c,e)}(0,C._)(this,c)&&(k=(0,C._)(this,c),s=(0,C._)(this,h),w=Date.now(),j="error");let O="fetching"===g.fetchStatus,R="pending"===j,T="error"===j,P=R&&O,U=void 0!==s,W={status:j,fetchStatus:g.fetchStatus,isPending:R,isSuccess:"success"===j,isError:T,isInitialLoading:P,isLoading:P,data:s,dataUpdatedAt:g.dataUpdatedAt,error:k,errorUpdatedAt:w,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:O,isRefetching:O&&!R,isLoadingError:T&&!U,isPaused:"paused"===g.fetchStatus,isPlaceholderData:_,isRefetchError:T&&U,isStale:H(e,t),refetch:this.refetch,promise:(0,C._)(this,o),isEnabled:!1!==(0,I.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=void 0!==W.data,s="error"===W.status&&!t,r=e=>{s?e.reject(W.error):t&&e.resolve(W.data)},a=()=>{r((0,M._)(this,o,W.promise=(0,D.pendingThenable)()))},l=(0,C._)(this,o);switch(l.status){case"pending":e.queryHash===p.queryHash&&r(l);break;case"fulfilled":(s||W.data!==l.value)&&a();break;case"rejected":s&&W.error===l.reason||a()}}return W}updateResult(){let e=(0,C._)(this,l),t=this.createResult((0,C._)(this,r),this.options);if((0,M._)(this,i,(0,C._)(this,r).state),(0,M._)(this,n,this.options),void 0!==(0,C._)(this,i).data&&(0,M._)(this,u,(0,C._)(this,r)),(0,I.shallowEqualObjects)(t,e))return;(0,M._)(this,l,t);let s=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!(0,C._)(this,b).size)return!0;let r=new Set(null!=s?s:(0,C._)(this,b));return this.options.throwOnError&&r.add("error"),Object.keys((0,C._)(this,l)).some(t=>(0,C._)(this,l)[t]!==e[t]&&r.has(t))};(0,O._)(this,N,ee).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,O._)(this,_,X).call(this)}constructor(e,t){super(),(0,R._)(this,v),(0,R._)(this,f),(0,R._)(this,y),(0,R._)(this,g),(0,R._)(this,_),(0,R._)(this,k),(0,R._)(this,w),(0,R._)(this,j),(0,R._)(this,N),(0,S._)(this,s,{writable:!0,value:void 0}),(0,S._)(this,r,{writable:!0,value:void 0}),(0,S._)(this,a,{writable:!0,value:void 0}),(0,S._)(this,l,{writable:!0,value:void 0}),(0,S._)(this,i,{writable:!0,value:void 0}),(0,S._)(this,n,{writable:!0,value:void 0}),(0,S._)(this,o,{writable:!0,value:void 0}),(0,S._)(this,c,{writable:!0,value:void 0}),(0,S._)(this,d,{writable:!0,value:void 0}),(0,S._)(this,h,{writable:!0,value:void 0}),(0,S._)(this,u,{writable:!0,value:void 0}),(0,S._)(this,p,{writable:!0,value:void 0}),(0,S._)(this,m,{writable:!0,value:void 0}),(0,S._)(this,x,{writable:!0,value:void 0}),(0,S._)(this,b,{writable:!0,value:new Set}),this.options=t,(0,M._)(this,s,e),(0,M._)(this,c,null),(0,M._)(this,o,(0,D.pendingThenable)()),this.bindMethods(),this.setOptions(t)}});function B(e,t){return!1!==(0,I.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&F(e,t,t.refetchOnMount)}function F(e,t,s){if(!1!==(0,I.resolveEnabled)(t.enabled,e)&&"static"!==(0,I.resolveStaleTime)(t.staleTime,e)){let r="function"==typeof s?s(e):s;return"always"===r||!1!==r&&H(e,t)}return!1}function z(e,t,s,r){return(e!==t||!1===(0,I.resolveEnabled)(r.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&H(e,s)}function H(e,t){return!1!==(0,I.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,I.resolveStaleTime)(t.staleTime,e))}function K(e){(0,O._)(this,j,Y).call(this);let t=(0,C._)(this,r).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(I.noop)),t}function V(){(0,O._)(this,k,$).call(this);let e=(0,I.resolveStaleTime)(this.options.staleTime,(0,C._)(this,r));if(I.isServer||(0,C._)(this,l).isStale||!(0,I.isValidTimeout)(e))return;let t=(0,I.timeUntilStale)((0,C._)(this,l).dataUpdatedAt,e);(0,M._)(this,p,L.timeoutManager.setTimeout(()=>{(0,C._)(this,l).isStale||this.updateResult()},t+1))}function Z(){var e;return null!=(e="function"==typeof this.options.refetchInterval?this.options.refetchInterval((0,C._)(this,r)):this.options.refetchInterval)&&e}function G(e){(0,O._)(this,w,J).call(this),(0,M._)(this,x,e),!I.isServer&&!1!==(0,I.resolveEnabled)(this.options.enabled,(0,C._)(this,r))&&(0,I.isValidTimeout)((0,C._)(this,x))&&0!==(0,C._)(this,x)&&(0,M._)(this,m,L.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||U.focusManager.isFocused())&&(0,O._)(this,v,K).call(this)},(0,C._)(this,x)))}function X(){(0,O._)(this,f,V).call(this),(0,O._)(this,g,G).call(this,(0,O._)(this,y,Z).call(this))}function $(){(0,C._)(this,p)&&(L.timeoutManager.clearTimeout((0,C._)(this,p)),(0,M._)(this,p,void 0))}function J(){(0,C._)(this,m)&&(L.timeoutManager.clearInterval((0,C._)(this,m)),(0,M._)(this,m,void 0))}function Y(){let e=(0,C._)(this,s).getQueryCache().build((0,C._)(this,s),this.options);if(e===(0,C._)(this,r))return;let t=(0,C._)(this,r);(0,M._)(this,r,e),(0,M._)(this,a,e.state),this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}function ee(e){W.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e((0,C._)(this,l))}),(0,C._)(this,s).getQueryCache().notify({query:(0,C._)(this,r),type:"observerResultsUpdated"})})}e.i(12174);var et=e.i(68645),es=e.i(51980);e.i(26557);var er=et.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),ea=et.createContext(!1);ea.Provider;var el=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function ei(e,t){return function(e,t,s){var r,a,l,i;let n,o=et.useContext(ea),c=et.useContext(er),d=(0,es.useQueryClient)(s),h=d.defaultQueryOptions(e);null==(a=d.getDefaultOptions().queries)||null==(r=a._experimental_beforeQuery)||r.call(a,h);let u=d.getQueryCache().get(h.queryHash);if(h._optimisticResults=o?"isRestoring":"optimistic",h.suspense){let e=e=>"static"===e?e:Math.max(null!=e?e:1e3,1e3),t=h.staleTime;h.staleTime="function"==typeof t?function(){for(var s=arguments.length,r=Array(s),a=0;a<s;a++)r[a]=arguments[a];return e(t(...r))}:e(t),"number"==typeof h.gcTime&&(h.gcTime=Math.max(h.gcTime,1e3))}n=(null==u?void 0:u.state.error)&&"function"==typeof h.throwOnError?(0,I.shouldThrowError)(h.throwOnError,[u.state.error,u]):h.throwOnError,(h.suspense||h.experimental_prefetchInRender||n)&&!c.isReset()&&(h.retryOnMount=!1),et.useEffect(()=>{c.clearReset()},[c]);let p=!d.getQueryCache().get(h.queryHash),[m]=et.useState(()=>new t(d,h)),x=m.getOptimisticResult(h),b=!o&&!1!==e.subscribed;if(et.useSyncExternalStore(et.useCallback(e=>{let t=b?m.subscribe(W.notifyManager.batchCalls(e)):I.noop;return m.updateResult(),t},[m,b]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),et.useEffect(()=>{m.setOptions(h)},[h,m]),(null==h?void 0:h.suspense)&&x.isPending)throw el(h,m,c);if((e=>{let{result:t,errorResetBoundary:s,throwOnError:r,query:a,suspense:l}=e;return t.isError&&!s.isReset()&&!t.isFetching&&a&&(l&&void 0===t.data||(0,I.shouldThrowError)(r,[t.error,a]))})({result:x,errorResetBoundary:c,throwOnError:h.throwOnError,query:u,suspense:h.suspense}))throw x.error;if(null==(i=d.getDefaultOptions().queries)||null==(l=i._experimental_afterQuery)||l.call(i,h,x),h.experimental_prefetchInRender&&!I.isServer&&x.isLoading&&x.isFetching&&!o){let e=p?el(h,m,c):null==u?void 0:u.promise;null==e||e.catch(I.noop).finally(()=>{m.updateResult()})}return h.notifyOnChangeProps?x:m.trackResult(x)}(e,Q,t)}e.s(["useQuery",()=>ei],20670)},26520,1331,17564,e=>{"use strict";var t=e.i(37501);let s=(0,t.default)("Beef",[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]]);e.s(["Beef",()=>s],26520);let r=(0,t.default)("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);e.s(["UtensilsCrossed",()=>r],1331);let a=(0,t.default)("Bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]);e.s(["Bird",()=>a],17564)},10769,e=>{"use strict";var t=e.i(15424),s=e.i(94388),r=e.i(26557),a=e.i(68645),l=e.i(20670),i=e.i(51980),n=e.i(22333),o=e.i(37501);let c=(0,o.default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),d=(0,o.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),h=(0,o.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),u=(0,o.default)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),p=(0,o.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var m=e.i(26520),x=e.i(1331),b=e.i(17564),v=e.i(10770);let f=(0,o.default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var y=e.i(6350),g=e.i(593),_=e.i(71386),k=e.i(23054),w=e.i(50898);function j(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}function N(e){let{category:t}=e;switch(t){case"Beef":return(0,r.jsx)(m.Beef,{className:"h-5 w-5",style:{color:"var(--text3)"}});case"Pork":return(0,r.jsx)(x.UtensilsCrossed,{className:"h-5 w-5",style:{color:"var(--text3)"}});case"Chicken":return(0,r.jsx)(b.Bird,{className:"h-5 w-5",style:{color:"var(--text3)"}});default:return(0,r.jsx)(v.Package,{className:"h-5 w-5",style:{color:"var(--text3)"}})}}function C(){let e=(0,_.useSupabase)(),o=(0,i.useQueryClient)(),[m,x]=(0,a.useState)(""),[b,v]=(0,a.useState)("All"),[j,C]=(0,a.useState)(!1),[O,R]=(0,a.useState)(null),[T,E]=(0,a.useState)(null),{data:P=[],isLoading:U}=(0,l.useQuery)({queryKey:["admin-products"],queryFn:async()=>{let{data:r,error:a}=await e.from("products").select("*").order("created_at",{ascending:!1});if(a)throw a;if(!(null==r?void 0:r.length))return[];let l=r.map(e=>e.id),{data:i,error:n}=await e.from("weight_tiers").select("*").in("product_id",l);if(n)throw n;let o=(null!=i?i:[]).reduce((e,t)=>(e[t.product_id]||(e[t.product_id]=[]),e[t.product_id].push(t),e),{});return r.map(e=>{var r;return(0,s._)((0,t._)({},e),{weight_tiers:null!=(r=o[e.id])?r:[]})})}}),W=(0,a.useMemo)(()=>{let e=P;if(m.trim()){let t=m.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t))}return"All"!==b&&(e=e.filter(e=>e.category===b)),e},[P,m,b]),A=P.filter(e=>e.in_stock).length,q=g.BUSINESS.MAX_PHASE_1_PRODUCTS,D=P.length,I=Math.max(0,q-D),L=(0,a.useCallback)(()=>{R(null),C(!0)},[]),Q=(0,a.useCallback)(e=>{R(e),C(!0)},[]),B=(0,a.useCallback)(()=>{C(!1),R(null)},[]);return(0,r.jsxs)("div",{className:"flex flex-col h-full overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b",style:{borderColor:"var(--border)"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"font-display text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Products"}),(0,r.jsxs)("p",{className:"text-sm mt-0.5",style:{color:"var(--text3)"},children:[D," of ",q," Phase 1 slots used"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(k.ThemeToggle,{}),(0,r.jsxs)("button",{type:"button",className:"btn-ghost min-h-[44px] flex items-center gap-2 px-4",children:[(0,r.jsx)(h,{className:"h-4 w-4"}),"Import CSV"]}),(0,r.jsxs)("button",{type:"button",onClick:L,className:"btn-primary min-h-[44px] flex items-center gap-2 px-4",children:[(0,r.jsx)(d,{className:"h-4 w-4"}),"Add Product"]})]})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-auto p-6",children:[(0,r.jsx)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[{label:"TOTAL PRODUCTS",value:P.length,change:null},{label:"IN STOCK",value:A,change:"up"},{label:"LOW STOCK",value:0,change:null},{label:"PHASE 1 LIMIT",value:q,sub:"".concat(I," slots remaining")}].map(e=>(0,r.jsxs)("div",{className:"rounded-[14px] border p-4",style:{background:"var(--card)",borderColor:"var(--border)"},children:[(0,r.jsx)("p",{className:"font-mono text-2xl font-medium",style:{color:"var(--text-primary)"},children:e.value}),(0,r.jsx)("p",{className:"text-xs uppercase mt-1",style:{color:"var(--text3)"},children:e.label}),e.sub&&(0,r.jsx)("p",{className:"text-xs mt-0.5",style:{color:"var(--text3)"},children:e.sub}),e.change&&(0,r.jsx)("span",{className:"inline-flex mt-1",children:"up"===e.change?(0,r.jsx)(f,{className:"h-4 w-4",style:{color:"var(--color-success)"}}):(0,r.jsx)(y.TrendingDown,{className:"h-4 w-4",style:{color:"var(--color-error)"}})})]},e.label))}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[(0,r.jsxs)("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[(0,r.jsx)(n.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4",style:{color:"var(--text3)"}}),(0,r.jsx)("input",{type:"search",placeholder:"Search products...",value:m,onChange:e=>x(e.target.value),className:"input pl-10 min-h-[44px]",style:{background:"var(--card)",borderColor:"var(--border)"}})]}),["All",...g.BUSINESS.CATEGORIES].map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>v(e),className:(0,w.cn)("px-4 py-2 rounded-full text-sm font-medium min-h-[44px] border",b===e?"border-[var(--sage)]":"border-[var(--border)]"),style:{background:b===e?"var(--sage-bg)":"var(--card)",color:b===e?"var(--sage)":"var(--text-secondary)"},children:e},e)),(0,r.jsxs)("button",{type:"button",className:"btn-ghost min-h-[44px] flex items-center gap-2 px-4",children:[(0,r.jsx)(c,{className:"h-4 w-4"}),"Filter"]})]}),(0,r.jsx)("div",{className:"rounded-xl border overflow-hidden",style:{borderColor:"var(--border)",background:"var(--card)"},children:(0,r.jsxs)("table",{className:"w-full text-left",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b",style:{borderColor:"var(--border)"},children:[(0,r.jsx)("th",{className:"p-3 text-xs uppercase font-semibold w-14",style:{color:"var(--text3)"}}),(0,r.jsx)("th",{className:"p-3 text-xs uppercase font-semibold",style:{color:"var(--text3)"},children:"Product"}),(0,r.jsx)("th",{className:"p-3 text-xs uppercase font-semibold",style:{color:"var(--text3)"},children:"Category"}),(0,r.jsx)("th",{className:"p-3 text-xs uppercase font-semibold",style:{color:"var(--text3)"},children:"Weight Tiers"}),(0,r.jsx)("th",{className:"p-3 text-xs uppercase font-semibold",style:{color:"var(--text3)"},children:"Base Price"}),(0,r.jsx)("th",{className:"p-3 text-xs uppercase font-semibold",style:{color:"var(--text3)"},children:"Status"}),(0,r.jsx)("th",{className:"p-3 text-xs uppercase font-semibold w-24",style:{color:"var(--text3)"},children:"Actions"})]})}),(0,r.jsx)("tbody",{children:U?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:7,className:"p-8 text-center text-sm",style:{color:"var(--text3)"},children:"Loading…"})}):W.map(e=>{let t;return(0,r.jsxs)("tr",{className:"group border-b hover:bg-[var(--surface-muted)]/50 transition-colors",style:{borderColor:"var(--border)"},children:[(0,r.jsx)("td",{className:"p-3",children:(0,r.jsx)("div",{className:"w-[42px] h-[42px] rounded-lg flex items-center justify-center shrink-0",style:{background:"var(--thumb-bg)"},children:(0,r.jsx)(N,{category:e.category})})}),(0,r.jsxs)("td",{className:"p-3",children:[(0,r.jsx)("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:e.name}),(0,r.jsx)("p",{className:"font-mono text-xs mt-0.5",style:{color:"var(--text3)"},children:e.sku})]}),(0,r.jsx)("td",{className:"p-3 text-sm",style:{color:"var(--text-secondary)"},children:e.category}),(0,r.jsx)("td",{className:"p-3",children:(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:[10,20,30,40].map(t=>e.weight_tiers.some(e=>e.weight_lbs===t)?(0,r.jsxs)("span",{className:"font-mono text-xs px-2 py-0.5 rounded",style:{background:"var(--card2)"},children:[t,"lb"]},t):null)})}),(0,r.jsx)("td",{className:"p-3",children:(t=[...e.weight_tiers].sort((e,t)=>e.weight_lbs-t.weight_lbs)[0])?(0,r.jsxs)("span",{className:"font-mono font-medium",style:{color:"var(--sage)"},children:["$",(t.price_per_lb/100).toFixed(2),"/lb"]}):"—"}),(0,r.jsx)("td",{className:"p-3",children:(0,r.jsxs)("span",{className:(0,w.cn)("inline-flex items-center gap-1.5 text-xs font-medium px-2 py-1 rounded-full",e.in_stock?"bg-[var(--color-success)]/15 text-[var(--color-success)]":"bg-[var(--color-error)]/15 text-[var(--color-error)]"),children:[(0,r.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-current"}),e.in_stock?"In Stock":"Out of Stock"]})}),(0,r.jsx)("td",{className:"p-3",children:(0,r.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,r.jsx)("button",{type:"button",onClick:()=>Q(e),className:"min-h-[44px] min-w-[44px] flex items-center justify-center rounded-lg hover:bg-[var(--sage-bg)]",style:{color:"var(--sage)"},"aria-label":"Edit",children:(0,r.jsx)(u,{className:"h-4 w-4"})}),(0,r.jsx)("button",{type:"button",onClick:()=>E(e.id),className:"min-h-[44px] min-w-[44px] flex items-center justify-center rounded-lg hover:bg-[var(--color-error)]/15",style:{color:"var(--color-error)"},"aria-label":"Delete",children:(0,r.jsx)(p,{className:"h-4 w-4"})})]})})]},e.id)})})]})})]}),j&&(0,r.jsx)(M,{product:O,onClose:B,onSuccess:()=>{o.invalidateQueries({queryKey:["admin-products"]}),B()},supabase:e}),T&&(0,r.jsx)(S,{onConfirm:async()=>{await e.from("weight_tiers").delete().eq("product_id",T),await e.from("products").delete().eq("id",T),o.invalidateQueries({queryKey:["admin-products"]}),E(null)},onCancel:()=>E(null)})]})}function S(e){let{onConfirm:t,onCancel:s}=e,[l,i]=(0,a.useState)(!1);return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{background:"rgba(0,0,0,0.5)"},children:(0,r.jsxs)("div",{className:"rounded-2xl border p-6 max-w-sm w-full",style:{background:"var(--card)",borderColor:"var(--border)"},children:[(0,r.jsx)("p",{className:"font-display font-semibold",style:{color:"var(--text-primary)"},children:"Delete product?"}),(0,r.jsx)("p",{className:"text-sm mt-1",style:{color:"var(--text3)"},children:"This cannot be undone."}),(0,r.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,r.jsx)("button",{type:"button",onClick:s,className:"btn-ghost flex-1 min-h-[44px]",children:"Cancel"}),(0,r.jsx)("button",{type:"button",onClick:async()=>{i(!0);try{await t()}finally{i(!1)}},disabled:l,className:"flex-1 min-h-[44px] rounded-xl font-semibold",style:{background:"var(--color-error)",color:"white"},children:l?"Deleting…":"Delete"})]})]})})}function M(e){var l,i,n,o,c,d,h,u,p,m,x,b,v,f,y,g,_,k,N;let{product:C,onClose:S,onSuccess:M,supabase:O}=e,R=!!C,[T,E]=(0,a.useState)(null!=(l=null==C?void 0:C.name)?l:""),[P,U]=(0,a.useState)(null!=(i=null==C?void 0:C.category)?i:"Chicken"),[W,A]=(0,a.useState)(null!=(n=null==C?void 0:C.cut_type)?n:""),[q,D]=(0,a.useState)(null!=(o=null==C?void 0:C.sku)?o:""),[I,L]=(0,a.useState)({10:null!=(c=null==C||null==(v=C.weight_tiers)||null==(b=v.find(e=>10===e.weight_lbs))?void 0:b.price_per_lb)?c:0,20:null!=(d=null==C||null==(y=C.weight_tiers)||null==(f=y.find(e=>20===e.weight_lbs))?void 0:f.price_per_lb)?d:0,30:null!=(h=null==C||null==(_=C.weight_tiers)||null==(g=_.find(e=>30===e.weight_lbs))?void 0:g.price_per_lb)?h:0,40:null!=(u=null==C||null==(N=C.weight_tiers)||null==(k=N.find(e=>40===e.weight_lbs))?void 0:k.price_per_lb)?u:0}),[Q,B]=(0,a.useState)(null!=(p=null==C?void 0:C.usda_grade)?p:"N/A"),[F,z]=(0,a.useState)(null!=(m=null==C?void 0:C.serving_size)?m:""),[H,K]=(0,a.useState)(null==(x=null==C?void 0:C.in_stock)||x),[V,Z]=(0,a.useState)(null),[G,X]=(0,a.useState)(!1),$=async()=>{if(Z(null),!T.trim())return void Z("Product name is required.");if(!I["10"]||I["10"]<=0)return void Z("10lb tier price is required.");X(!0);try{if(R&&C){await O.from("products").update({name:T.trim(),category:P,cut_type:W.trim(),sku:q.trim()||j(T),usda_grade:"N/A"===Q?null:Q,serving_size:F.trim()||"—",in_stock:H,updated_at:new Date().toISOString()}).eq("id",C.id);let{error:e}=await O.from("weight_tiers").delete().eq("product_id",C.id);if(e)throw e;for(let e of[10,20,30,40])await O.from("weight_tiers").insert({product_id:C.id,weight_lbs:e,price_per_lb:I[String(e)]})}else{let e=j(T)+"-"+Date.now().toString(36),{data:t,error:s}=await O.from("products").insert({name:T.trim(),slug:e,description:"",category:P,cut_type:W.trim(),sku:q.trim()||e.toUpperCase().slice(0,12),images:[],serving_size:F.trim()||"—",usda_grade:"N/A"===Q?null:Q,in_stock:H}).select("id").single();if(s)throw s;if(!(null==t?void 0:t.id))throw Error("Insert failed");for(let e of[10,20,30,40])await O.from("weight_tiers").insert({product_id:t.id,weight_lbs:e,price_per_lb:I[String(e)]})}M()}catch(e){Z(e instanceof Error?e.message:"Something went wrong")}finally{X(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-40",style:{background:"rgba(0,0,0,0.5)"},onClick:S,onKeyDown:e=>"Escape"===e.key&&S(),role:"button",tabIndex:0,"aria-label":"Close overlay"}),(0,r.jsxs)("div",{className:"fixed right-0 top-0 z-50 h-full w-[360px] flex flex-col border-l overflow-y-auto",style:{background:"var(--card)",borderColor:"var(--border)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--border)"},children:[(0,r.jsx)("h2",{className:"font-display text-lg font-semibold",style:{color:"var(--text-primary)"},children:R?"Edit Product":"Add Product"}),(0,r.jsx)("button",{type:"button",onClick:S,className:"min-h-[44px] min-w-[44px] flex items-center justify-center rounded-lg hover:bg-[var(--surface-muted)]",style:{color:"var(--text3)"},"aria-label":"Close",children:(0,r.jsx)("span",{className:"text-xl leading-none",children:"×"})})]}),(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-semibold uppercase mb-1.5",style:{color:"var(--text3)"},children:"Product Name"}),(0,r.jsx)("input",{type:"text",value:T,onChange:e=>E(e.target.value),className:"input min-h-[44px]",style:{background:"var(--surface-muted)",borderColor:"var(--border)"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-semibold uppercase mb-1.5",style:{color:"var(--text3)"},children:"Category"}),(0,r.jsxs)("select",{value:P,onChange:e=>U(e.target.value),className:"input min-h-[44px]",style:{background:"var(--surface-muted)",borderColor:"var(--border)"},children:[(0,r.jsx)("option",{value:"Chicken",children:"Chicken"}),(0,r.jsx)("option",{value:"Beef",children:"Beef"}),(0,r.jsx)("option",{value:"Pork",children:"Pork"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-semibold uppercase mb-1.5",style:{color:"var(--text3)"},children:"Cut Type"}),(0,r.jsx)("input",{type:"text",value:W,onChange:e=>A(e.target.value),className:"input min-h-[44px]",style:{background:"var(--surface-muted)",borderColor:"var(--border)"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-semibold uppercase mb-1.5",style:{color:"var(--text3)"},children:"SKU"}),(0,r.jsx)("input",{type:"text",value:q,onChange:e=>D(e.target.value),placeholder:"Auto-generated",className:"input min-h-[44px] font-mono",style:{background:"var(--surface-muted)",borderColor:"var(--border)"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"block text-xs font-semibold uppercase mb-2",style:{color:"var(--text3)"},children:"Pricing Tiers (price per lb in cents)"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[10,20,30,40].map(e=>(0,r.jsxs)("div",{className:"rounded-xl border p-3",style:{background:"var(--surface-muted)",borderColor:"var(--border)"},children:[(0,r.jsxs)("label",{className:"block text-xs mb-1",style:{color:"var(--text3)"},children:[e,"lb"]}),(0,r.jsx)("input",{type:"number",min:0,value:I[String(e)]||"",onChange:r=>L(a=>(0,s._)((0,t._)({},a),{[String(e)]:Number(r.target.value)||0})),className:"input min-h-[40px] font-mono text-sm py-2",style:{background:"var(--card)",borderColor:"var(--border)"}})]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-semibold uppercase mb-1.5",style:{color:"var(--text3)"},children:"USDA Grade"}),(0,r.jsxs)("select",{value:Q,onChange:e=>B(e.target.value),className:"input min-h-[44px]",style:{background:"var(--surface-muted)",borderColor:"var(--border)"},children:[(0,r.jsx)("option",{value:"Choice",children:"Choice"}),(0,r.jsx)("option",{value:"Select",children:"Select"}),(0,r.jsx)("option",{value:"Prime",children:"Prime"}),(0,r.jsx)("option",{value:"N/A",children:"N/A"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-semibold uppercase mb-1.5",style:{color:"var(--text3)"},children:"Serving Size"}),(0,r.jsx)("input",{type:"text",value:F,onChange:e=>z(e.target.value),className:"input min-h-[44px]",style:{background:"var(--surface-muted)",borderColor:"var(--border)"}})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"In Stock"}),(0,r.jsx)("button",{type:"button",role:"switch","aria-checked":H,onClick:()=>K(e=>!e),className:(0,w.cn)("w-11 h-6 rounded-full transition-colors relative",H?"bg-[var(--sage)]":"bg-[var(--card2)]"),children:(0,r.jsx)("span",{className:(0,w.cn)("absolute top-1 w-4 h-4 rounded-full bg-white transition-transform",H?"left-6":"left-1")})})]})]}),(0,r.jsxs)("div",{className:"p-4 border-t mt-auto",style:{borderColor:"var(--border)"},children:[V&&(0,r.jsx)("p",{className:"text-sm mb-3",style:{color:"var(--color-error)"},children:V}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:S,className:"btn-ghost flex-1 min-h-[44px]",children:"Cancel"}),(0,r.jsx)("button",{type:"button",onClick:$,disabled:G,className:"btn-primary flex-1 min-h-[44px]",children:G?"Saving…":"Save"})]})]})]})]})}e.s(["default",()=>C],10769)}]);