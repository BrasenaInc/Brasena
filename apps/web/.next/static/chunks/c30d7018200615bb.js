(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50898,593,e=>{"use strict";var r=e.i(39255),t=e.i(28769);e.i(12174);let n=function(){let e="https://ybbmqnodbbrkexkfqlkx.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InliYm1xbm9kYmJya2V4a2ZxbGt4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwNzY4MjAsImV4cCI6MjA4NzY1MjgyMH0.uI8GaLPDt-NXDQGvnJE00X-WXgLx2cFx3CzMV_Snydc",t="pk_test_placeholder";if(""===e.trim())throw Error("Missing required environment variable: NEXT_PUBLIC_SUPABASE_URL - check your .env.local file");if(""===r.trim())throw Error("Missing required environment variable: NEXT_PUBLIC_SUPABASE_ANON_KEY - check your .env.local file");if(""===t.trim())throw Error("Missing required environment variable: NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY - check your .env.local file");if(!e.startsWith("https://")||!e.includes(".supabase.co"))throw Error("NEXT_PUBLIC_SUPABASE_URL must be the Supabase API URL (e.g. https://YOUR_REF.supabase.co). Use Project Settings → API → Project URL in the dashboard, not the Postgres connection string.");return{NEXT_PUBLIC_SUPABASE_URL:e.trim(),NEXT_PUBLIC_SUPABASE_ANON_KEY:r.trim(),NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY:t.trim()}}(),a={app:{name:"Brasena",url:"http://localhost:3000",env:"production"},supabase:{url:n.NEXT_PUBLIC_SUPABASE_URL,anonKey:n.NEXT_PUBLIC_SUPABASE_ANON_KEY},stripe:{publishableKey:n.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY},maps:{mapboxToken:""},delivery:{uberDirectEnabled:!1,maxWeightForUber:30}};function i(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];return(0,t.twMerge)((0,r.clsx)(n))}e.s(["BUSINESS",0,{WEIGHT_TIERS:[10,20,30,40],DRIVER_NOTIFY_DELAY_MS:42e4,HOURS:{open:6,close:23},INITIAL_BOROUGH:"Bronx",SERVICE_ZIPCODES:["10451","10452","10453","10454","10455","10456","10457","10458","10459","10460","10461","10462","10463","10464","10465","10466","10467","10468","10469","10470","10471","10472","10473","10474","10475"],MAX_PHASE_1_PRODUCTS:25,CATEGORIES:["Beef","Pork","Chicken"]},"ROUTES",0,{HOME:"/",LANGUAGE:"/language",LOGIN:"/login",SIGNUP:"/signup",SHOP:"/home",CATEGORIES:"/categories",PRODUCTS:e=>"/categories/".concat(e),PRODUCT:e=>"/products/".concat(e),CART:"/cart",CHECKOUT:"/checkout",ORDERS:"/orders",ORDER:e=>"/orders/".concat(e),ORDER_TRACK:e=>"/orders/".concat(e,"/track"),ACCOUNT:"/account",VENDOR_QUEUE:"/vendor/queue",VENDOR_ORDER:e=>"/vendor/orders/".concat(e),ADMIN_DASHBOARD:"/admin/dashboard",ADMIN_PRODUCTS:"/admin/products",ADMIN_ORDERS:"/admin/orders"},"config",0,a],593),e.s(["cn",()=>i],50898)},37621,(e,r,t)=>{r.exports=e.r(28486)},13642,e=>{"use strict";var r=e.i(68645),t=e.i(37621),n=e.i(71386);function a(){let e=(0,n.useSupabase)(),a=(0,t.useRouter)(),[i,s]=(0,r.useState)(null),[o,c]=(0,r.useState)(null),[u,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let r=!0;!async function(){try{let{data:{user:t}}=await e.auth.getUser();r&&s(t)}finally{r&&l(!1)}}();let{data:{subscription:t}}=e.auth.onAuthStateChange((e,t)=>{var n;r&&s(null!=(n=null==t?void 0:t.user)?n:null)});return()=>{r=!1,t.unsubscribe()}},[e]);let E=null==i?void 0:i.id;(0,r.useEffect)(()=>{if(!E)return void c(null);let r=!0;return async function(){if(!E)return;let{data:t,error:n}=await e.from("profiles").select("*").eq("id",E).maybeSingle();r&&!n&&c(null!=t?t:null)}(),()=>{r=!1}},[e,E]);let d=(0,r.useCallback)(async()=>{await e.auth.signOut(),c(null),a.push("/")},[e,a]);return(0,r.useMemo)(()=>({user:i,profile:o,loading:u,signOut:d}),[i,o,u,d])}e.s(["useAuth",()=>a])},41217,e=>{"use strict";var r=e.i(26557),t=e.i(50898);let n={sm:"w-6 h-6 border-2",md:"w-10 h-10 border-2",lg:"w-14 h-14 border-[3px]"},a={sage:"border-brand-sage border-t-transparent",primary:"border-primary border-t-transparent",mint:"border-brand-mint border-t-transparent",white:"border-text-primary border-t-transparent"};function i(e){let{size:i="md",color:s="sage",className:o}=e;return(0,r.jsx)("div",{role:"status","aria-label":"Loading",className:(0,t.cn)("rounded-full animate-spin",n[i],a[s],o)})}e.s(["Spinner",()=>i])},46425,e=>{"use strict";var r=e.i(26557),t=e.i(68645),n=e.i(37621),a=e.i(593),i=e.i(13642),s=e.i(41217),o=e.i(50898);function c(e){let{children:c}=e,{user:u,loading:l}=(0,i.useAuth)(),E=(0,n.useRouter)(),d=(0,n.usePathname)();return((0,t.useEffect)(()=>{if(!l&&!u){let e=d?"".concat(d):a.ROUTES.SHOP;E.push("".concat(a.ROUTES.LOGIN,"?next=").concat(encodeURIComponent(e)))}},[u,l,E,d]),l||!u)?(0,r.jsx)("div",{className:(0,o.cn)("min-h-screen flex items-center justify-center"),style:{background:"var(--surface)"},children:(0,r.jsx)(s.Spinner,{size:"lg"})}):(0,r.jsx)("div",{className:"app-shell min-h-screen overflow-hidden flex flex-col",children:c})}e.s(["default",()=>c])}]);