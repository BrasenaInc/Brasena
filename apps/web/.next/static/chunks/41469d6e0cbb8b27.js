(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41217,e=>{"use strict";var t=e.i(26557),r=e.i(50898);let s={sm:"w-6 h-6 border-2",md:"w-10 h-10 border-2",lg:"w-14 h-14 border-[3px]"},a={sage:"border-brand-sage border-t-transparent",primary:"border-primary border-t-transparent",mint:"border-brand-mint border-t-transparent",white:"border-text-primary border-t-transparent"};function i(e){let{size:i="md",color:l="sage",className:o}=e;return(0,t.jsx)("div",{role:"status","aria-label":"Loading",className:(0,r.cn)("rounded-full animate-spin",s[i],a[l],o)})}e.s(["Spinner",()=>i])},67537,e=>{"use strict";var t=e.i(15424),r=e.i(26557),s=e.i(68645),a=e.i(33201),i=e.i(37621),l=e.i(22233),o=e.i(43217),n=e.i(70718),m=e.i(78600),d=e.i(593),c=e.i(28256),u=e.i(71386),x=e.i(24415),p=e.i(52629),h=e.i(94545),b=e.i(41217),g=e.i(50898);function f(){var e;let f=(0,i.useRouter)(),w=(0,i.useSearchParams)(),{t:j}=(0,c.useLanguage)(),y=(0,u.useSupabase)(),[v,N]=(0,s.useState)(!1),[S,O]=(0,s.useState)(null),P=w.get("next"),R=P&&P.startsWith("/")&&!P.startsWith("//")?P:d.ROUTES.SHOP,{register:T,handleSubmit:U,formState:{errors:C,isSubmitting:E}}=(0,l.useForm)({resolver:(0,o.zodResolver)(x.loginSchema),defaultValues:{email:"",password:""}});async function F(e){O(null);try{let{error:t}=await y.auth.signInWithPassword({email:e.email,password:e.password});if(t)return void O(t.message);f.push(R)}catch(e){O(e instanceof Error?e.message:"Something went wrong")}}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-6 flex justify-center",children:(0,r.jsx)(p.BrasenaLogo,{size:"sm"})}),(0,r.jsx)("h1",{className:"font-display text-2xl font-semibold text-text-primary mb-1",children:j("login.title")}),(0,r.jsx)("p",{className:"text-text-secondary text-base mb-6",children:j("login.subtitle")}),(0,r.jsxs)("form",{onSubmit:U(F),className:"flex flex-col gap-4",children:[(0,r.jsx)(h.FormField,(0,t._)({label:j("login.email"),type:"email",autoComplete:"email",required:!0,error:null==(e=C.email)?void 0:e.message},T("email"))),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-text-primary mb-1.5",children:[j("login.password")," ",(0,r.jsx)("span",{className:"text-brand-sage ml-0.5",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",(0,t._)({type:v?"text":"password",autoComplete:"current-password","aria-invalid":!!C.password,className:(0,g.cn)("input pr-12",C.password&&"border-[color:var(--color-error)]")},T("password"))),(0,r.jsx)("button",{type:"button",onClick:()=>N(e=>!e),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-primary min-h-touch min-w-touch flex items-center justify-center","aria-label":v?"Hide password":"Show password",children:v?(0,r.jsx)(m.EyeOff,{className:"w-5 h-5"}):(0,r.jsx)(n.Eye,{className:"w-5 h-5"})})]}),C.password&&(0,r.jsx)("p",{role:"alert",className:"mt-1.5 text-sm text-[color:var(--color-error)]",children:C.password.message})]}),S&&(0,r.jsx)("p",{role:"alert",className:"text-sm text-[color:var(--color-error)]",children:S}),(0,r.jsx)("button",{type:"submit",disabled:E,className:"btn-primary w-full flex items-center justify-center gap-2 min-h-touch",children:E?(0,r.jsx)(b.Spinner,{size:"sm",color:"white"}):j("login.submit")})]}),(0,r.jsxs)("p",{className:"mt-6 text-center text-text-secondary text-sm",children:[j("login.newUser")," ",(0,r.jsx)(a.default,{href:d.ROUTES.SIGNUP,className:"text-brand-sage font-medium hover:underline",children:j("login.createAccount")})]})]})}e.s(["default",()=>f])}]);