module.exports=[16830,(a,b,c)=>{"use strict";var d=a.r(97176);d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},84658,(a,b,c)=>{"use strict";b.exports=a.r(16830)},76235,(a,b,c)=>{"use strict";var d=a.r(97176),e=a.r(84658),f="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},g=e.useSyncExternalStore,h=d.useRef,i=d.useEffect,j=d.useMemo,k=d.useDebugValue;c.useSyncExternalStoreWithSelector=function(a,b,c,d,e){var l=h(null);if(null===l.current){var m={hasValue:!1,value:null};l.current=m}else m=l.current;var n=g(a,(l=j(function(){function a(a){if(!i){if(i=!0,g=a,a=d(a),void 0!==e&&m.hasValue){var b=m.value;if(e(b,a))return h=b}return h=a}if(b=h,f(g,a))return b;var c=d(a);return void 0!==e&&e(b,c)?(g=a,b):(g=a,h=c)}var g,h,i=!1,j=void 0===c?null:c;return[function(){return a(b())},null===j?void 0:function(){return a(j())}]},[b,c,d,e]))[0],l[1]);return i(function(){m.hasValue=!0,m.value=n},[n]),k(n),n}},78253,(a,b,c)=>{"use strict";b.exports=a.r(76235)},91340,43667,11470,a=>{"use strict";var b=a.i(53077),c=a.i(1880),d=a.i(13858),e=a.i(58164),f=a.i(81033),g=a.i(9172);let h=(0,a.i(43249).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var i=a.i(77241),j=a.i(59356);let k={get url(){return`file://${a.P("Developer/brasena/Brasena/node_modules/zustand/esm/vanilla.mjs")}`}},l=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a)),destroy:()=>{(k.env?k.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),c.clear()}},g=b=a(d,e,f);return f};var m=a.i(97176),n=a.i(78253);let o={get url(){return`file://${a.P("Developer/brasena/Brasena/node_modules/zustand/esm/index.mjs")}`}},{useDebugValue:p}=m.default,{useSyncExternalStoreWithSelector:q}=n.default,r=!1,s={get url(){return`file://${a.P("Developer/brasena/Brasena/node_modules/zustand/esm/middleware.mjs")}`}},t=a=>b=>{try{let c=a(b);if(c instanceof Promise)return c;return{then:a=>t(a)(c),catch(a){return this}}}catch(a){return{then(a){return this},catch:b=>t(b)(a)}}},u=(a=>{(o.env?o.env.MODE:void 0)!=="production"&&"function"!=typeof a&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let b="function"==typeof a?a?l(a):l:a,c=(a,c)=>(function(a,b=a=>a,c){(o.env?o.env.MODE:void 0)!=="production"&&c&&!r&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),r=!0);let d=q(a.subscribe,a.getState,a.getServerState||a.getInitialState,b,c);return p(d),d})(b,a,c);return Object.assign(c,b),c})(((a,b)=>{if("getStorage"in b||"serialize"in b||"deserialize"in b)return(s.env?s.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),(c,d,e)=>{let f,g,h={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:a=>a,version:0,merge:(a,b)=>({...b,...a}),...b},i=!1,j=new Set,k=new Set;try{f=h.getStorage()}catch(a){}if(!f)return a((...a)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),c(...a)},d,e);let l=t(h.serialize),m=()=>{let a,b=l({state:h.partialize({...d()}),version:h.version}).then(a=>f.setItem(h.name,a)).catch(b=>{a=b});if(a)throw a;return b},n=e.setState;e.setState=(a,b)=>{n(a,b),m()};let o=a((...a)=>{c(...a),m()},d,e),p=()=>{var a;if(!f)return;i=!1,j.forEach(a=>a(d()));let b=(null==(a=h.onRehydrateStorage)?void 0:a.call(h,d()))||void 0;return t(f.getItem.bind(f))(h.name).then(a=>{if(a)return h.deserialize(a)}).then(a=>{if(a)if("number"!=typeof a.version||a.version===h.version)return a.state;else{if(h.migrate)return h.migrate(a.state,a.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(a=>{var b;return c(g=h.merge(a,null!=(b=d())?b:o),!0),m()}).then(()=>{null==b||b(g,void 0),i=!0,k.forEach(a=>a(g))}).catch(a=>{null==b||b(void 0,a)})};return e.persist={setOptions:a=>{h={...h,...a},a.getStorage&&(f=a.getStorage())},clearStorage:()=>{null==f||f.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:a=>(j.add(a),()=>{j.delete(a)}),onFinishHydration:a=>(k.add(a),()=>{k.delete(a)})},p(),g||o};return(c,d,e)=>{let f,g={storage:function(a,b){let c;try{c=a()}catch(a){return}return{getItem:a=>{var b;let d=a=>null===a?null:JSON.parse(a,void 0),e=null!=(b=c.getItem(a))?b:null;return e instanceof Promise?e.then(d):d(e)},setItem:(a,b)=>c.setItem(a,JSON.stringify(b,void 0)),removeItem:a=>c.removeItem(a)}}(()=>localStorage),partialize:a=>a,version:0,merge:(a,b)=>({...b,...a}),...b},h=!1,i=new Set,j=new Set,k=g.storage;if(!k)return a((...a)=>{console.warn(`[zustand persist middleware] Unable to update item '${g.name}', the given storage is currently unavailable.`),c(...a)},d,e);let l=()=>{let a=g.partialize({...d()});return k.setItem(g.name,{state:a,version:g.version})},m=e.setState;e.setState=(a,b)=>{m(a,b),l()};let n=a((...a)=>{c(...a),l()},d,e);e.getInitialState=()=>n;let o=()=>{var a,b;if(!k)return;h=!1,i.forEach(a=>{var b;return a(null!=(b=d())?b:n)});let e=(null==(b=g.onRehydrateStorage)?void 0:b.call(g,null!=(a=d())?a:n))||void 0;return t(k.getItem.bind(k))(g.name).then(a=>{if(a)if("number"!=typeof a.version||a.version===g.version)return[!1,a.state];else{if(g.migrate)return[!0,g.migrate(a.state,a.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(a=>{var b;let[e,h]=a;if(c(f=g.merge(h,null!=(b=d())?b:n),!0),e)return l()}).then(()=>{null==e||e(f,void 0),f=d(),h=!0,j.forEach(a=>a(f))}).catch(a=>{null==e||e(void 0,a)})};return e.persist={setOptions:a=>{g={...g,...a},a.storage&&(k=a.storage)},clearStorage:()=>{null==k||k.removeItem(g.name)},getOptions:()=>g,rehydrate:()=>o(),hasHydrated:()=>h,onHydrate:a=>(i.add(a),()=>{i.delete(a)}),onFinishHydration:a=>(j.add(a),()=>{j.delete(a)})},g.skipHydration||o(),f||n}})((a,b)=>({items:[],isOpen:!1,addItem:(c,d)=>{let{items:e}=b(),f=c.weightTiers.find(a=>a.weightLbs===d);if(!f)return void console.error(`No pricing tier found for ${d}lb`);let g=e.findIndex(a=>a.productId===c.id&&a.weightLbs===d);if(g>=0){let b=[...e],c=b[g];b[g]={...c,quantity:c.quantity+1,subtotal:(c.quantity+1)*f.totalPrice},a({items:b})}else a({items:[...e,{productId:c.id,product:c,weightLbs:d,quantity:1,unitPrice:f.totalPrice,subtotal:f.totalPrice}]})},removeItem:(b,c)=>{a(a=>({items:a.items.filter(a=>a.productId!==b||a.weightLbs!==c)}))},updateQuantity:(c,d,e)=>{e<=0?b().removeItem(c,d):a(a=>({items:a.items.map(a=>a.productId===c&&a.weightLbs===d?{...a,quantity:e,subtotal:e*a.unitPrice}:a)}))},clearCart:()=>a({items:[]}),toggleCart:()=>a(a=>({isOpen:!a.isOpen})),itemCount:()=>b().items.reduce((a,b)=>a+b.quantity,0),subtotal:()=>b().items.reduce((a,b)=>a+b.subtotal,0),totalSavings:()=>b().items.reduce((a,b)=>{let c=b.product.weightTiers.find(a=>a.weightLbs===b.weightLbs);return a+(c?.savingsAmount??0)*b.quantity},0)}),{name:"brasena-cart",partialize:a=>({items:a.items})}));var v=a.i(39681);let w=[{href:i.ROUTES.SHOP,icon:e.Home,key:"nav.home"},{href:i.ROUTES.CATEGORIES,icon:f.Search,key:"nav.browse"},{href:i.ROUTES.CART,icon:g.ShoppingBag,key:"nav.cart"},{href:i.ROUTES.ACCOUNT,icon:h,key:"nav.account"}];function x(){let a=(0,d.usePathname)(),{t:e}=(0,j.useLanguage)(),f=u(a=>a.itemCount());return(0,b.jsx)("nav",{className:"sticky bottom-0 left-0 right-0 flex items-center border-t",style:{background:"var(--nav-bg)",backdropFilter:"blur(20px)",borderColor:"var(--border)",padding:"10px 0 24px"},children:w.map(({href:d,icon:g,key:h})=>{let j=a===d,k=d===i.ROUTES.CART;return(0,b.jsxs)(c.default,{href:d,className:"flex-1 flex flex-col items-center justify-center gap-1 min-h-[44px] min-w-[44px]","aria-current":j?"page":void 0,children:[(0,b.jsxs)("span",{className:"relative inline-flex",children:[(0,b.jsx)(g,{className:"h-[22px] w-[22px] transition-colors",style:{color:j?"var(--sage)":"var(--text3)"},strokeWidth:1.8}),k&&f>0&&(0,b.jsx)("span",{className:"absolute -top-1 -right-2 min-w-[16px] h-4 rounded-full flex items-center justify-center text-[10px] font-bold px-1",style:{background:"var(--sage)",color:"var(--color-brand-black)"},children:f>99?"99+":f})]}),(0,b.jsx)("span",{className:(0,v.cn)("text-[10px] font-medium"),style:{color:j?"var(--sage)":"var(--text3)"},children:e(h)})]},d)})})}a.s(["BottomNav",()=>x],43667);var y=a.i(8629),z=a.i(93011);function A({greeting:a=!1,title:d,backHref:e,showCart:f=!0}){let h,{t:k}=(0,j.useLanguage)(),{profile:l}=(0,z.useAuth)(),m=u(a=>a.itemCount()),n=l?.full_name?.trim()||"there",o=(h=new Date().getHours())<12?"nav.greetingMorning":h<18?"nav.greetingAfternoon":"nav.greetingEvening";return(0,b.jsxs)("header",{className:"sticky top-0 z-40 border-b flex items-center justify-between",style:{background:"var(--nav-bg)",backdropFilter:"blur(16px)",borderColor:"var(--border-lt)",padding:"46px 20px 12px"},children:[(0,b.jsx)("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.default,{href:e,className:"flex shrink-0 items-center justify-center text-[var(--text3)] hover:text-[var(--sage)] min-h-[44px] min-w-[44px]","aria-label":k("common.back"),children:(0,b.jsx)(y.ChevronLeft,{className:"h-6 w-6",strokeWidth:2})}),d&&(0,b.jsx)("span",{className:"font-display font-semibold text-xl truncate",style:{color:"var(--text-primary)"},children:d})]}):a?(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsxs)("p",{className:"text-[11px] truncate",style:{color:"var(--text3)"},children:[k(o),", ",n]}),(0,b.jsx)("p",{className:"font-display font-bold text-lg tracking-[0.12em] truncate",style:{color:"var(--sage)"},children:"BRASENA"})]}):d?(0,b.jsx)("span",{className:"font-display font-semibold text-xl truncate",style:{color:"var(--text-primary)"},children:d}):(0,b.jsx)("span",{className:"font-display font-bold tracking-[0.12em]",style:{color:"var(--sage)"},children:"BRASENA"})}),(0,b.jsx)("div",{className:"flex shrink-0 items-center gap-3",children:f&&(0,b.jsxs)(c.default,{href:i.ROUTES.CART,className:"relative flex items-center justify-center min-h-[44px] min-w-[44px] rounded-[10px] border",style:{background:"var(--card)",borderColor:"var(--border)"},"aria-label":k("nav.cart"),children:[(0,b.jsx)(g.ShoppingBag,{className:"h-5 w-5",style:{color:"var(--text-secondary)"},strokeWidth:1.8}),m>0&&(0,b.jsx)("span",{className:"absolute -top-0.5 -right-0.5 min-w-[18px] h-[18px] rounded-full flex items-center justify-center text-[10px] font-bold px-1",style:{background:"var(--sage)",color:"var(--color-brand-black)"},children:m>99?"99+":m})]})})]})}a.s(["TopNav",()=>A],11470),a.s([],91340)}];

//# sourceMappingURL=Developer_brasena_Brasena_145694af._.js.map